<h1 id="object-detection">Object Detection</h1>
<h2 id="map">mAP</h2>
<blockquote>
<p>AP is averaged over all categories. Traditionally, this is called â€œmean average precisionâ€ (mAP). We make no distinction between AP and mAP (and likewise AR and mAR) and assume the difference is clear from context.  </p>
</blockquote>
<p><a href="https://medium.com/@jonathan_hui/map-mean-average-precision-for-object-detection-45c121a31173">mAP (mean Average Precision) for Object Detection - Jonathan Hui - Medium</a></p>
<hr>
<h2 id="cornernet">CornerNet</h2>
<blockquote>
<p>anchor-free</p>
</blockquote>
<h4 id="motivation">Motivation</h4>
<ol>
<li>anchor boxå¤ªå¤šï¼Œåªæœ‰å°‘éƒ¨åˆ†å’ŒGTé‡åˆ</li>
<li>anchor é€‰æ‹©éœ€è¦äººä¸ºè®¾è®¡ï¼ˆæ•°é‡ï¼Œå°ºå¯¸ï¼Œæ¯”ä¾‹ï¼‰ï¼Œä¸åŒå°ºåº¦anchorè®¾ç½®ä¸åŒ</li>
</ol>
<p>ä¸¤ä¸ªéƒ¨åˆ†ï¼š 1) æ£€æµ‹è§’ç½‘ç»œï¼Œå·¦ä¸Š+å³ä¸‹ 2) åµŒå…¥ç½‘ç»œï¼Œç”¨äºåŒ¹é…è§’ç‚¹</p>
<h4 id="method">Method</h4>
<p><img src="Figures/1e682da0e78dfe82e953f541d1580f86f14af8f6.png" alt=""></p>
<p><strong>æ£€æµ‹cornerç½‘ç»œ</strong>ï¼šæç‰¹å¾ä¹‹åï¼Œç»è¿‡corner poolingäº§ç”Ÿæ¯ä¸ªç±»åˆ«çš„å·¦ä¸Šè§’å’Œå³ä¸‹è§’çš„heat mapã€‚ä¸ºæ­£è´Ÿæ ·æœ¬åŒ¹é…ï¼Œåªæƒ©ç½šGTä¸€å®šèŒƒå›´å¤–çš„é¢„æµ‹ç‚¹ï¼ˆé€šè¿‡IoU thresholdé™åˆ¶radiusï¼‰<br><strong>è®¡ç®—åµŒå…¥embedç½‘ç»œ</strong>ï¼šç”¨äºåŒ¹é…åŒæ¡†çš„å·¦ä¸Šå³ä¸‹ã€‚æŸå¤±å‡½æ•°ï¼šåŒæ¡†å·¦ä¸Šå’Œå³ä¸‹æ¥è¿‘ï¼ˆvarianceå°ï¼‰ï¼Œä¸åŒæ¡†çš„å¹³å‡embedè·ç¦»å¤§ã€‚<br><strong>Corner pooling</strong> ï¼šè§£å†³è§’ç‚¹ç‰¹å¾å°‘ï¼Œå–ä¸€æ¡çº¿ä¸Šçš„æœ€å¤§å€¼pooling<br><img src="Figures/63eebde8b0adc4b30eacb0eb14e2b291b78b0e87.png" alt=""><br><em>Hourglass network</em>ï¼šæç‰¹å¾</p>
<p><strong>two stageå¾—åˆ°é¢„æµ‹æ¡†ä¹‹åé‡‡ç”¨RoI pooling/alignæå–æ£€æµ‹æ¡†å†…éƒ¨çš„ä¿¡æ¯ï¼Œåªæœ‰å†…éƒ¨ä¿¡æ¯(approx.)çš„ç‰¹å¾å†è¿›è¡Œä¸€æ¬¡æ¡†å®šå’Œåˆ†ç±»ï¼ˆrefineæ­¥éª¤ï¼‰ï¼›è€Œä¸€é˜¶æ®µçš„æ–¹æ³•åœ¨æå–åˆ°ç‰¹å¾ä¹‹ååˆ†æˆä¸¤æ”¯è¿›è¡Œæ¡†å®šå’Œåˆ†ç±»ï¼Œæ²¡æœ‰å¯¹è¿‘ä¼¼çš„åªåŒ…å«æ¡†å†…ç‰©ä½“çš„ç‰¹å¾(å±€éƒ¨ç‰¹å¾)è¿›è¡Œå†ä¸€æ¬¡æå–ï¼Œæ‰€ä»¥ç²¾åº¦è¾ƒå·®</strong></p>
<hr>
<h2 id="centernet">CenterNet</h2>
<blockquote>
<p>anchor-free</p>
</blockquote>
<h4 id="motivation">Motivation</h4>
<p>CornerNetåªç”¨åˆ°è¾¹ç¼˜çš„ç‰¹å¾ä¿¡æ¯ï¼Œæ²¡æœ‰ç”¨åˆ°å†…éƒ¨çš„ç‰¹å¾ä¿¡æ¯ï¼ˆé€ æˆä¸æ­¢å¯¹ç‰©ä½“çš„è¾¹ç¼˜æ•æ„Ÿï¼Œä¹Ÿå¯¹èƒŒæ™¯çš„è¾¹ç¼˜æ•æ„Ÿï¼‰ã€‚å†…éƒ¨ä¿¡æ¯å¯¹äºå†³å®šä¸¤ä¸ªkeypointæ˜¯å¦æ˜¯åŒä¸€ä¸ªæ¡†æœ‰å¸®åŠ©ã€‚<br>CenterNeté¢„æµ‹ä¸‰å…ƒç»„ï¼šå·¦ä¸Šï¼Œå³ä¸‹ï¼Œä¸­å¿ƒ</p>
<h4 id="method">Method</h4>
<p><img src="Figures/d9ab741df8f3e313182e9e5f3f47cc6d89eba5c4.png" alt=""><br>äºŒåˆ†æ”¯ï¼šäº§ç”Ÿcornerç‚¹å¹¶matchå½¢æˆæ¡†ï¼›äº§ç”Ÿcenterç‚¹ã€‚å¦‚æœcenterç‚¹åœ¨æ¡†çš„central regionï¼Œè®¡ç®—æ¡†ï¼Œå¦åˆ™åˆ é™¤<br><u><strong>central region</strong></u> ç¡®å®šåˆ¤å®šçš„ä¸­å¿ƒåŒºåŸŸçš„å¤§å°ï¼šå¤§æ¡†åå°ï¼Œå°æ¡†åå¤§ï¼Œæ•´ä½“çº¿æ€§</p>
<p><img src="https://latex.codecogs.com/svg.latex?\left\{\begin{array}{l}%20{\operatorname{ctl}_{\mathrm{x}}=\frac{%28n+1%29%20\mathrm{tl}_{\mathrm{x}}+%28n-1%29%20\mathrm{br}_{\mathrm{x}}}{2%20n}}%20\\%20{\operatorname{ctl}_{\mathrm{y}}=\frac{%28n+1%29%20\mathrm{tl}_{\mathrm{y}}+%28n-1%29%20\mathrm{br}_{\mathrm{y}}}{2%20n}}%20\\%20{\operatorname{cbr}_{\mathrm{x}}=\frac{%28n-1%29%20\mathrm{tl}_{\mathrm{x}}+%28n+1%29%20\mathrm{br}_{\mathrm{x}}}{2%20n}}%20\\%20{\operatorname{cbr}_{\mathrm{y}}=\frac{%28n-1%29%20\mathrm{tl}_{\mathrm{y}}+%28n+1%29%20\mathrm{br}_{\mathrm{y}}}{2%20n}}%20\end{array}\right." alt="latex_equ"><br>Nç¦»æ•£å˜åŒ–ï¼Œè¿‡thresholdåå˜ç³»æ•°nã€‚å°<img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ">threshold<img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ">å¤§ï¼Œ3<img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ">5</p>
<h4 id="enrich-centercorner-information">Enrich center&amp;corner information</h4>
<p><u><strong>center pooling</strong></u> ç”¨åœ¨é¢„æµ‹ä¸­å¿ƒç‚¹æ—¶ï¼Œå¢åŠ ä¸­å¿ƒç‚¹çš„recognizableç‰¹å¾</p>
<pre><code>ä¾‹å¦‚æ‰¾leftmostçš„ï¼ˆå³æŠŠhorizontalæœ€å¤§å€¼ä¼ åˆ°æœ€å·¦è¾¹ï¼‰ï¼Œæ¯ä¸ªç‚¹çœ‹è‡ªå·±åˆ°æœ€å³è¾¹çš„æœ€å¤§å€¼ï¼Œä¸æ–­ä¼ ï¼Œåˆ°æœ€å·¦å¯è·å¾—æ•´æ¡æ¨ªçº¿æœ€å¤§ï¼›æ‰¾topmostï¼ˆæŠŠverticalæœ€å¤§å€¼ä¼ åˆ°æœ€ä¸Šé¢ï¼‰ï¼Œæ¯ä¸ªç‚¹çœ‹è‡ªå·±åˆ°æœ€ä¸‹ï¼Œä¸æ–­ä¼ ï¼Œåˆ°æœ€ä¸Šåˆ™å¯è·å¾—æ•´æ¡çº¿æœ€å¤§
</code></pre><p>æ¨¡å—&amp;ç¤ºæ„å›¾<br><img src="Figures/ade09a091bb57b300358c745de23118416db2913.png" alt=""><br><img src="Figures/ca0373639965a7c36e025eeef214af59716f68eb.png" alt=""></p>
<p>è¾“å‡ºmapè¡¨ç¤ºæ˜¯å¦ä¸ºcenterç‚¹ï¼Œç„¶åæ‰¾æ¨ªå‘å’Œçºµå‘æœ€å¤§å€¼</p>
<p><u><strong>cascade corner pooling</strong></u> å¢åŠ è§’ç‚¹çš„ç‰¹å¾ï¼Œç›¸æ¯”corner poolingå¢åŠ å†…éƒ¨ï¼Œä½¿å…¶ä¸å¯¹è¾¹ç¼˜æ•æ„Ÿ<br>æ²¿ç€è¾¹ç¼˜æ‰¾è¾¹ç¼˜æœ€å¤§å€¼ï¼Œå†ä»è¾¹ç¼˜æœ€å¤§å€¼çš„ä½ç½® <em>å‘å†…æ‰¾å†…éƒ¨æœ€å¤§å€¼</em> ï¼Œæœ€åä¸¤ä¸ªæœ€å¤§å€¼ç›¸åŠ <br>æ¨¡å—&amp;ç¤ºæ„å›¾<br><img src="Figures/cc6e39c86f14d245507fb1c4c2f691d87dc5a3c7.png" alt=""><img src="Figures/caa1d357e9dd10d63c81d52dcd69b0d045d9b9a3.png" alt=""></p>
<blockquote>
<p>Q: how to classification?<br>Need RoI align?  </p>
</blockquote>
<hr>
<h2 id="fcos-fully-convolutional-one-stage-object-detection">FCOS: Fully Convolutional One-Stage Object Detection</h2>
<blockquote>
<p>anchor-free æ¶ˆé™¤anchorï¼Œå‡å°‘IoUçš„è®¡ç®—å’ŒGTæ¡†çš„åŒ¹é…ã€‚å¯ä»¥ä»£æ›¿äºŒé˜¶æ®µçš„RPN</p>
</blockquote>
<p>æŒ‰ç…§åƒç´ è¿›è¡Œé¢„æµ‹<u><strong>per-pixel prediction</strong></u>ï¼Œé¢„æµ‹æ¯ä¸€ä¸ªåƒç´ ç‚¹çš„å››ä¸ªç»´åº¦çš„æ¡† <code>(Left, Top, Right, Bottom)</code>ğŸ‘‡<br><img src="Figures/433cf8512698164d44e845d1d67fcaf628708061.png" alt=""></p>
<ul>
<li><p>å¯¹äºç‰¹å¾å›¾ä¸Šæ¯ä¸€ä¸ªç‚¹ï¼Œå¯¹åº”ä¸€ä¸ªåŸå›¾ä¸Šçš„æ¡†ã€‚ç›´æ¥æŠŠç‰¹å¾å›¾ä¸Šçš„åƒç´ ç‚¹çœ‹æˆè®­ç»ƒæ ·æœ¬è€Œä¸æ˜¯åœ¨ç‚¹ä¸Šé“ºä¸åŒé•¿å®½æ¯”å’Œå¤§å°çš„anchoræ¡†</p>
</li>
<li><p>å¯¹äºä¸€ä¸ªç‚¹è½åœ¨å¤šä¸ªGTæ¡†ä¸­ï¼ˆambiguous samplesï¼‰é€‰æ‹©æœ€å°çš„bboxä½œä¸ºtargetã€‚åŒæ—¶é€šè¿‡multi-level predictionæ¥å‡å°‘æ•°é‡ã€‚ğŸ‘‡<br><img src="Figures/376354c1dd3cfbe7facc6debbe8335f845c44e19.png" alt="">ğŸ‘†which bbox this location should regressï¼Ÿ</p>
</li>
<li><p>FCOSå¯ä»¥åˆ©ç”¨å°½å¯èƒ½å¤šçš„æ ·æœ¬ï¼ˆç‰¹å¾å›¾ä¸Šçš„ç‚¹å½¢æˆçš„æ¡†ï¼‰è€Œä¸åªæ˜¯IoUè¶³å¤Ÿå¤§çš„anchor æ¥è¿›è¡Œè®­ç»ƒã€‚æ¯ä¸ªç‚¹éƒ½å»å­¦ä¹ å¯¹æ¡†çš„é¢„æµ‹ï¼Œå¤šä¸ªç‚¹å…±åŒäº§ç”Ÿå¤šä¸ªç±»ä¼¼çš„æ¡†ï¼Œç„¶åNMSé€‰æ‹©æœ€å¤§çš„</p>
</li>
<li><p>å¯¹äºambiguous samplesï¼Œé‡‡ç”¨å¤šå°ºåº¦ç‰¹å¾å›¾ï¼Œæ¯å±‚é™åˆ¶4D vecä¸­æœ€å¤§å€¼çš„å¤§å°ï¼ˆ<u><strong>é™åˆ¶æ¯å±‚ç‰¹å¾å›¾äº§ç”Ÿçš„bboxçš„å¤§å°</strong></u>ï¼‰ï¼Œæ»¡è¶³<img src="https://latex.codecogs.com/svg.latex?m_i%20&lt;%20\max%28l,t,r,b%29%20&lt;%20m_{i+1}" alt="latex_equ">ã€‚å¯¹äºåŒä¸€ä¸ªç‚¹ä¸Šå¤šä¸ªæ¡†ï¼Œå› é™åˆ¶ï¼Œæ‰€ä»¥åœ¨ä¸åŒå°ºåº¦ç‰¹å¾å›¾ä¸Šæ„æˆçš„æ¡†è¿›è¡Œregressï¼Œä¸€ä¸ªfeature mapä¸Šä¸€ä¸ªç‚¹åªè´Ÿè´£å›ºå®šå°ºåº¦çš„æ¡†å›å½’ã€‚å¦‚æœè¿˜å‡ºç°é‡å¤ï¼Œåˆ™é€‰æ‹©å°ºå¯¸æœ€å°</p>
</li>
<li><p>é˜²æ­¢è¿œç¦»ç‰©ä½“ä¸­å¿ƒçš„ç‚¹äº§ç”Ÿè´¨é‡å·®çš„æ¡†ï¼Œcenter-lossã€‚<img src="https://latex.codecogs.com/svg.latex?centerness^*=\sqrt{\frac{\min%28l^*,r^*%29}{\max%28l^*,r^*%29}\times%20\frac{\min%28t^*,b^*%29}{\max%28t^*,b^*%29}}" alt="latex_equ"></p>
<p>ä½¿<u><strong>å·¦å’Œå³ï¼Œä¸Šå’Œä¸‹çš„é•¿åº¦å°½å¯èƒ½ç›¸ç­‰</strong></u>ã€‚æµ‹è¯•æ—¶centerness-weighted classification confidenceï¼ŒæŠ‘åˆ¶åè¿œæ¡†ğŸ‘‡<br><img src="Figures/d39a52432c2c3225142d3500869baf40e3c73b58.png" alt=""><br>ç½‘ç»œç»“æ„ğŸ‘‡<br><img src="Figures/8b5702a9ed96bc002a55b079d5b531be343ca142.png" alt=""></p>
</li>
</ul>
<hr>
<h2 id="centripetalnet-pursuing-high-quality-keypoint-pairs-for-object-detection">CentripetalNet: Pursuing High-quality Keypoint Pairs for Object Detection</h2>
<p><img src="Figures/image-20200428214951683.png" alt="image-20200428214951683"></p>
<hr>
<h2 id="saccadenet-a-fast-and-accurate-object-detector">SaccadeNet: A Fast and Accurate Object Detector</h2>
<p><img src="Figures/image-20200428220100664.png" alt="image-20200428220100664"></p>
<p>åŒæ—¶é¢„æµ‹ä¸­å¿ƒ<code>Center Attentive Module</code>å’Œè§’ç‚¹<code>Attention Transitive Module</code>ï¼Œå¾—åˆ°ç²—æ¡†ï¼Œä½¿ç”¨<code>Aggregation Attentive Module</code>åŒçº¿æ€§æ’å€¼é‡æ–°é‡‡æ ·feature mapï¼Œå¾—åˆ°ç²¾ç»†æ¡†ï¼Œ<u>è½»é‡çº§è¾¹æ¡†ç»†åŒ–</u>ã€‚<code>Corner Attentive Module</code>è¾…åŠ©è®­ç»ƒã€‚</p>
<p><code>Center-AM</code><u>è·ç¦»æƒ©ç½š</u>è®­ç»ƒï¼Œé‡‡ç”¨Gaussian heat mapä½œä¸ºGT <img src="https://latex.codecogs.com/svg.latex?e^{\frac{\left\|X-X_{k}\right\|^{2}}{2%20\sigma^{2}}}" alt="latex_equ"></p>
<p>ç›¸æ¯”CornerNetå¢åŠ äº†ä¸­å¿ƒç‰¹å¾ï¼Œç›¸æ¯”FCOSå¢åŠ äº†è¾¹ç¼˜ç‰¹å¾ï¼Œç›¸æ¯”CenterNetåŠ é€Ÿ</p>
<h2 id="mask-rcnn">Mask RCNN</h2>
<p>å‚è€ƒ<a href="https://zhuanlan.zhihu.com/p/37998710">https://zhuanlan.zhihu.com/p/37998710</a></p>
<h4 id="-">ç½‘ç»œç»“æ„</h4>
<p><img src="Figures/2020-02-17-23-33-00-image.png" alt=""></p>
<h4 id="roi-align">RoI Align</h4>
<p><img src="Figures/2020-02-17-23-32-25-image.png" alt=""></p>
<p><img src="Figures/2020-02-17-23-33-41-image.png" alt=""> ğŸ‘†lossè®¡ç®—æ—¶<code>w*h*c</code>çš„maskè¾“å‡ºï¼Œåªè®¡ç®—<u>åˆ†ç±»åˆ†æ”¯é¢„æµ‹çš„ç±»åˆ«</u>å¯¹åº”channelçš„sigmodè¾“å‡ºä½œä¸ºæŸå¤±ã€Œ<strong>è¯­ä¹‰maské¢„æµ‹ä¸åˆ†ç±»é¢„æµ‹è§£è€¦</strong>ã€</p>
<hr>
<h2 id="hbonet-harmonious-bottleneck-on-two-orthogonal-dimensions">HBONet: Harmonious Bottleneck on Two Orthogonal Dimensions</h2>
<blockquote>
<p>light-weight </p>
</blockquote>
<p>åŒ…å«ä¸¤ä¸ªéƒ¨åˆ† <em>spatial contraction-expansion</em> å’Œ <em>channel expansion-contraction</em> ï¼Œç‹¬ç«‹ä½œç”¨åœ¨ç‰¹å¾å›¾çš„ orthogonal dimensionã€‚å‰è€…é€šè¿‡å‡å°‘ç‰¹å¾å›¾å¤§å°å‡å°‘è®¡ç®—é‡ï¼Œåè€…é€šè¿‡æå‡informative featureæå‡æ€§èƒ½</p>
<blockquote>
<p>mobileneté€šè¿‡åˆ†ç¦»æˆ<em>point-wise</em>å’Œ<em>depth-wise</em>æ¥åˆ†åˆ«ä¸å˜å°ºå¯¸å˜é€šé“æ•°å’Œä¸å˜é€šé“æ•°å˜å°ºå¯¸(up/down sampling)     so called <em>depthwise separable conv</em><br>shuffleneté€šè¿‡group convå‡å°‘é€šé“ä¸Šçš„è®¡ç®—é‡ï¼Œchannel-shuffleæ¥å¢åŠ ä¸åŒé€šé“ä¹‹é—´çš„è¿æ¥<br>ğŸ‘†previous work focus on <strong>channel transformation</strong>, introduce <strong>spatial feature dim(size)</strong>  </p>
</blockquote>
<ul>
<li>æå‡é€šé“æ•°å¯ä»¥æå‡ä¿¡æ¯ï¼Œä½†æ˜¯å¢åŠ è®¡ç®—å¼€é”€. æå‡º<em>Two reciprocal components work on orthogonal dimension</em>.<u><strong>é€šé“æ•°æ‰©å±•æ—¶ï¼Œå°ºå¯¸å‡å°‘</strong></u></li>
<li>ç›¸æ¯”mobilenetå¢åŠ <strong>spatial contractionç¼©å°-expansionæ”¾å¤§åˆ°è¾“å…¥çš„å¤§å°</strong>ï¼Œç±»ä¼¼Squeeze-Excitation Networkçš„å…ˆç¼©åæ”¾çš„æ€è·¯<br>æ¨¡å—ï¼Œå¯¹æ¯”mobilenetğŸ‘‡<br><img src="Figures/7a0feef0d97e42bab4044301662546ba8c93851c.png" alt=""><br>è®¡ç®—é‡ğŸ‘‡<br><img src="Figures/a43e53f7f1c22a59e7b1079ac38e14d39292c07b.png" alt=""></li>
<li>å¢åŠ residual pathï¼Œå‡å°‘ä¸»å¹²è®¡ç®—and <strong>feature reuse</strong>. Inverted residual with harmonious bottleneckğŸ‘‡<br><img src="Figures/6c1529ac24e533703ca3c5dcdc70f721512e2ac1.png" alt=""></li>
<li>For Object detection: use <strong>MobileNet V2 SSD</strong> utilize the <strong>warm-up</strong> strategy which linearly ramps up the learning rate from a close-to-zero one 1e-6 to the normal initial learning rate of 1e-3 during the first 5 epochs. </li>
</ul>
<hr>
<h3 id="ssd-">SSDç½‘ç»œæ—¶é—´</h3>
<ol>
<li>ç½‘ç»œè¿è¡Œæ—¶é—´ï¼š0.002-0.003s åœ¨GPUè¿è¡Œ</li>
<li>detectï¼ˆNMSä¸ºä¸»ï¼‰è¿è¡Œæ—¶é—´ï¼š0.013-0.016s åªåœ¨ <em>CPU</em> ä¸Šè¿è¡Œ <u><strong>ç“¶é¢ˆ</strong></u></li>
</ol>
<p>å°ºåº¦å‡å°‘ï¼Œaspect ratioå‡å°‘<br>Shallow feature map only for small<br>Deep ONLY large<br>ä½ç§©ç®€åŒ–<br>PointRend</p>
<p><u><strong>ç‰¹å¾èåˆ<br>cascade</strong></u></p>
<hr>
<h2 id="cascade-rpn">Cascade RPN</h2>
<p><u>Single anchor per location + multi-stage refinement</u></p>
<blockquote>
<p>ä¸€æ¬¡å›å½’ä¸åˆ°ï¼ˆè·ç¦»å¤ªè¿œï¼‰ï¼Œå¤šæ¬¡å›å½’</p>
<p>å›å½’å¤šæ¬¡åanchorç‚¹å¤„çš„ç‰¹å¾å’Œç§»åŠ¨anchoræ‰€åœ¨ä½ç½®ç‰¹å¾ä¸åŒ¹é…<img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ">deformable conv</p>
<p>åŒ¹é…çš„anchorä½ç½®ä¸å˜(è¿˜æ˜¯æœ€åˆå§‹ç‚¹å¯¹åº”çš„anchor)ï¼Œä½†æ˜¯æå–ç‰¹å¾çš„ä½ç½®æ”¹å˜ğŸ‘‡ğŸ‘‡</p>
</blockquote>
<p><img src="Figures/%E5%9B%BE%E5%83%8F.jpeg" alt="å›¾åƒ"></p>
<h4 id="motivation">Motivation</h4>
<p>predefined anchoråœ¨GTå’Œanchorå¯¹é½æ—¶é™åˆ¶æ€§èƒ½/åå·®ï¼Œ(#toread RoIPool RoIAlign)</p>
<ol>
<li><strong>single anchor</strong> + incorporates <strong>criteria</strong> of anchor/anchor-free in defining <strong>positive</strong> boxes</li>
<li><strong>adaptive convolution</strong> to maintain the alignment between anchor boxes and features</li>
</ol>
<p>Iterative RPNæ¯æ¬¡æŠŠanchoré›†åˆ<strong>çœ‹ä½œæ–°çš„anchor</strong>è¿›è¡Œrefineï¼Œå¯¼è‡´æ¯æ¬¡è¿­ä»£åanchorä½ç½®å’Œå½¢çŠ¶å‘ç”Ÿå˜åŒ–ï¼Œanchorå’Œè¡¨ç¤ºanchorç‰¹å¾ä¸åŒ¹é…ã€Œ <strong>anchorä¸­å¿ƒç‚¹çš„ç‰¹å¾(å³è¡¨ç¤ºanchorçš„ç‰¹å¾)ä¸å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯anchorçš„ä½ç½®å‘ç”Ÿå˜åŒ–</strong> ï¼Œmismatchã€<br>ğŸ‘†ä½¿ç”¨deformable convè§£å†³ï¼Œbut <em>no constraint to enforce</em> ğŸ™…â€â™‚ï¸</p>
<h4 id="adaptive-convolution">Adaptive Convolution</h4>
<p>å·ç§¯é‡‡æ ·çš„æ—¶å€™å¢åŠ offset field<br><code>offset = center offset + shape offset</code>ä¸­å¿ƒçš„åç§»å’Œå½¢çŠ¶åç§»(ç”±anchorå½¢çŠ¶å’Œkernelå†³å®š)</p>
<p><img src="Figures/d5cd3e96c3f74c043b11af85568fd780d34c03b6.png" alt=""></p>
<p>ğŸ‘†å¯¹æ¯”deformable convï¼šåç§»é‡ç”±anchorå’Œkernelå†³å®šï¼Œéç½‘ç»œå­¦ä¹ â¡ï¸anchorå’Œfeatureå¯¹é½</p>
<h4 id="sample-discrimination-metrics">Sample Discrimination Metrics</h4>
<p>æ¯ä¸ªä½ç½®åªæœ‰ä¸€ä¸ªanchorï¼Œç„¶åè¿­ä»£refine</p>
<blockquote>
<p>Determining whether a training sample is pos/neg as the use of anchor/anchor-free is adversarial ä¸¤ç§æ–¹æ³•å†³å®šæ­£è´Ÿæ ·æœ¬çš„æ–¹æ³•ä¸åŒ</p>
</blockquote>
<p>ğŸ‘†å³anchor-freeçš„å†³å®šæ–¹å¼å®½æ¾/æ•°é‡å¤šï¼Œanchor-basedæ ‡å‡†ä¸¥æ ¼/æ•°é‡å°‘<br>Stage 1: anchor-freeâ¡ï¸æ›´å¤šæ­£æ ·æœ¬ã€Œè§£å†³æ­£è´Ÿæ ·æœ¬ä¸åŒ¹é…ã€<br>Stage 2: amchor-basedâ¡ï¸ä¸¥æ ¼ï¼Œæ•°é‡å‡å°‘ï¼ŒIoUé«˜<br><code>anchor-free</code>æŒ‡FCOSï¼Œä¸­å¿ƒç‚¹åœ¨ç‰©ä½“å†…ä¸ºpos anchor<br><code>anchor-based</code>æŒ‡Faster RCNNï¼ŒIoU threshold</p>
<h4 id="cascade-rpn">Cascade RPN</h4>
<p>å‰ä¸€ä¸ªé˜¶æ®µçš„è¾“å‡ºbridgeåˆ°åä¸€ä¸ªé˜¶æ®µ<br>ç”±anchorè®¡ç®—å‡ºoffset <code>o</code>ï¼Œå†å’Œfeature <code>x</code>è¾“å…¥regressorè®¡ç®—æ–°çš„anchor ( <img src="https://latex.codecogs.com/svg.latex?\sigma" alt="latex_equ">å°±æ˜¯anchorå›å½’çš„ç›®æ ‡ eg. <img src="https://latex.codecogs.com/svg.latex?%28tx-ax%29/aw" alt="latex_equ"> )</p>
<p><img src="Figures/407d8090a6d3898e6971c85df18ba81b99684580.png" alt=""></p>
<hr>
<h2 id="detnet">DetNet</h2>
<blockquote>
<p>ä¸ºæ£€æµ‹ä»»åŠ¡è®¾è®¡backbone  </p>
</blockquote>
<p>ç°æœ‰çš„ImageNet backboneï¼š 1. ç½‘ç»œstageéœ€è¦å¢åŠ ï¼Œä¸”æœªåœ¨imagenetè®­è¿‡ 2. down-sampleå’ŒstrideæŸå¤±ç©ºé—´ä¿¡æ¯ï¼Œå¤§ç›®æ ‡è¾¹ç•Œæ¨¡ç³Š 3. å°ç›®æ ‡ã€Œç©ºé—´åˆ†è¾¨ç‡ä½ã€</p>
<hr>
<h2 id="tridentnet">TridentNet</h2>
<blockquote>
<p>Scale variation <img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ"> Different <u><strong>receptive fields</strong></u>  </p>
</blockquote>
<p>å¤šåˆ†æ”¯ç½‘ç»œï¼Œåˆ†æ”¯ç»“æ„ç›¸åŒæƒé‡å…±äº«ï¼Œæ¯ä¸ªåˆ†æ”¯ä¸åŒçš„æ„Ÿå—é‡å¯¹åº”æ£€æµ‹ä¸åŒå°ºåº¦èŒƒå›´çš„ç‰©ä½“<br>ä¸åŒæ„Ÿå—é‡ä½¿ç”¨<code>dilated_conv</code>å®ç°ğŸ‘‰å‚æ•°ç›¸åŒ<br>æƒé‡å…±äº«ï¼šå‡å°‘å‚æ•°é‡ï¼Œinferenceæ—¶åªé€‰æ‹©ä¸€ä¸ªä¸»åˆ†æ”¯<br><img src="Figures/ac7b0f86651341d53a16ca349d1b6deb5414d9c7.png" alt=""></p>
<p><u>Image Pyramid</u> (Multi-scale training&amp;testing): time-consuming<br><u>Feature Pyramid</u>: use different params to predict different scale (not uniform) </p>
<p><strong>trident block</strong>ğŸ‘‡</p>
<p><img src="Figures/118a7989f6f926f41e2581e0c102f9c6d3c665e0.png" alt=""><strong>Scale-aware Training Scheme</strong>ï¼šæ¯ä¸ªbranchåªå¯¹é•¿å®½åœ¨ä¸€å®šèŒƒå›´çš„proposalè¿›è¡Œè®­ç»ƒã€Œä¸€å¼ å›¾ç‰‡ä½¿ç”¨ä¸åŒbranch(ä¸åŒdilate rate)è®­ç»ƒä¸åŒå°ºåº¦çš„proposalã€<br>å…¶ä»–å‚æ•°ç›¸åŒ(make sense?) </p>
<p><strong>é¢„æµ‹</strong>ï¼šè®¡ç®—æ¯ä¸ªåˆ†æ”¯çš„é¢„æµ‹è¾“å‡ºï¼Œfilter outæ‰è¶…è¿‡å°ºå¯¸èŒƒå›´çš„box <strong>TridentNet Fast</strong>ï¼šé¢„æµ‹åªé‡‡ç”¨å•åˆ†æ”¯<img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ">ä¸­é—´åˆ†æ”¯é¢„æµ‹ï¼Œå¾—ç›Šäºä¸‰åˆ†æ”¯æƒé‡å…±äº«ï¼Œæ•ˆæœæ¥è¿‘</p>
<hr>
<h2 id="sniper-efficient-multi-scale-training">SNIPER: Efficient Multi-Scale Training</h2>
<blockquote>
<p>è§£å†³å¤šå°ºåº¦é—®é¢˜, ä¸æ„å»ºfeature pyramid, <u><strong>å¤šå°ºåº¦è®­ç»ƒç­–ç•¥</strong></u>, å°ºå¯¸é€‚åº”ç½‘ç»œ</p>
</blockquote>
<p><strong>Scale Invariant</strong>: <em>RCNN</em>å°†proposalç¼©æ”¾åˆ°åŒä¸€ä¸ªå°ºåº¦ï¼Œæ£€æµ‹ç½‘ç»œåªéœ€è¦å­¦ä¹ ä¸€ç§å°ºåº¦çš„æ£€æµ‹ã€‚è€Œä¸ºäº†é€‚åº”ä¸åŒå°ºåº¦ï¼Œå¤šå°ºåº¦è®­ç»ƒçš„<em>Faster RCNN</em>å¯¹æ•´ä¸ªå›¾ç‰‡è¿›è¡Œæ”¾ç¼©ï¼Œproposalä¹Ÿæ”¾å¤§ç¼©å°ï¼Œæ£€æµ‹ç½‘ç»œå­¦ä¹ é€‚åº”å¤šç§å°ºåº¦ã€‚ <u>é€šè¿‡ç½‘ç»œcapacityè®°å¿†ä¸åŒscaleçš„ç‰©ä½“</u> ï¼Œæµªè´¹capacity</p>
<blockquote>
<p><em>Process context regions around GT instances(chips) at appropriate scale</em><br>æˆªå–å›ºå®šå°ºå¯¸çš„chip(eg <code>3x3, 5x5, 7x7</code>)å¯¹åº”ä¸åŒå°ºåº¦ï¼Œç„¶åresizeåˆ°ç›¸åŒå¤§å°(low-res)å»è®­ç»ƒ<br>å°ç›®æ ‡zoom-inï¼Œå¤§ç›®æ ‡zoom-out  </p>
</blockquote>
<h4 id="pos-chips">Pos chips</h4>
<p><img src="Figures/ff21eb5b057a444a8bb5207b3cc2b71dc5fdde7b.png" alt=""><br>ğŸ‘†chipä»æœ€å°çš„coveræŸä¸ªGT boxå¼€å§‹ï¼Œç›´åˆ°æœ€å¤šçš„boxè¢«è¿™ä¸ªchip coveråˆ°<br>ã€Œchipå°ºå¯¸ä¸å˜ï¼Œå›´ç»•coverè¿™ä¸ªGTboxè½¬ï¼Œç›´åˆ°æœ€å¤§åŒ–coverçš„boxæ•°é‡ã€</p>
<ol>
<li>æ¯ä¸ªboxè‡³å°‘è¢«ä¸€ä¸ªchip cover</li>
<li>ä¸€ä¸ªç‰©ä½“å¯èƒ½è¢«å¤šä¸ªchip cover</li>
<li>ä¸€ä¸ªç‰©ä½“åœ¨ä¸åŒå°ºåº¦chipä¸­å¯èƒ½valid or not</li>
<li>æˆªæ–­çš„ç‰©ä½“ä¿ç•™</li>
</ol>
<h4 id="neg-chips">Neg chips</h4>
<p><img src="Figures/58422bc9dea8dd52de0f8214533a4c54c7d97cc6.png" alt="">ğŸ‘†åªæœ‰pos chipsä¼šå¯¼è‡´ç½‘ç»œåªå¯¹GTé™„è¿‘å°èŒƒå›´çš„å›¾ç‰‡è®­ç»ƒ <em>iconic</em>ï¼Œç¼ºä¹ <u>èƒŒæ™¯</u> ã€‚å¢åŠ <strong>éš¾æ ·æœ¬</strong>ä½œä¸ºneg chips<br>Metrics:</p>
<ol>
<li>å¦‚æœåŒºåŸŸæ²¡æœ‰proposalï¼Œè®¤ä¸ºæ˜¯easy backgroundï¼Œå¿½ç•¥</li>
<li>å»æ‰è¢«pos chip coverçš„proposalã€Œproposalå’ŒGTæ¥è¿‘ï¼Œæ˜“äºåŒºåˆ†ã€</li>
<li>è´ªå¿ƒé€‰æ‹©è‡³å°‘cover Mä¸ªå‰©ä½™proposalçš„ä½œä¸ºneg chips</li>
</ol>
<p>è®­ç»ƒæ—¶å¯æ§åˆ¶neg chipæ•°é‡ï¼Œç±»ä¼¼OHEM<br><u>åˆ†è¾¨ç‡å’Œå‡†ç¡®ç‡å…³ç³»å¯èƒ½ä¸å¤§ï¼Œè¿‡å¤šcontextå¯èƒ½ä¸å¿…è¦</u><br>Ref: <a href="https://arleyzhang.github.io/articles/f0c1556d/">ç›®æ ‡æ£€æµ‹-SNIPER-Efficient Multi-Scale Training-è®ºæ–‡ç¬”è®° | arleyzhang</a></p>
<hr>
<h2 id="stitcher-feedback-driven-data-provider-for-object-detection">Stitcher: Feedback-driven Data Provider for Object Detection</h2>
<blockquote>
<p>å°ç›®æ ‡ï¼Œç²˜è´´æ„é€ è®­ç»ƒæ ·æœ¬</p>
</blockquote>
<p>å°ç›®æ ‡æ•°æ®é›†ä¸­åˆ†å¸ƒä¸å‡åŒ€(41.4%çš„å°ç›®æ ‡åªå‡ºç°åœ¨52.3%çš„å›¾ç‰‡ä¸­)ï¼Œå°ç›®æ ‡åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è´¡çŒ®çš„lossä½ï¼Œå­¦ä¸å¥½</p>
<p>æŠŠå›¾ç‰‡ç¼©å°ï¼Œæ‹¼æ¥åœ¨ä¸€èµ·ï¼ˆå’ŒSNIPERåˆ‡å‰²ç›¸åï¼‰</p>
<p><img src="Figures/image-20200620175602128.png" alt="image-20200620175602128"></p>
<p><strong>æŠŠå¤§ç‰©ä½“å’Œä¸­ç‰©ä½“éƒ½å˜æˆå°ç‰©ä½“ï¼Œå¢åŠ å°å°ºåº¦çš„åˆ†å¸ƒ</strong></p>
<p>å°ç›®æ ‡ï¼šæ£€æµ‹æ—¶æ”¾å¤§âŒï¼Œè®­ç»ƒæ—¶ç¼©å°âœ…</p>
<p>lossä½œä¸ºåé¦ˆä¿¡å·ï¼Œ<strong>å°ç›®æ ‡äº§ç”Ÿlossä¸è¶³(<img src="https://latex.codecogs.com/svg.latex?r^t_s&lt;\tau" alt="latex_equ">)åˆ™ä¸‹ä¸ªiteré‡‡ç”¨stitchï¼Œç¼ºå•¥è¡¥å•¥</strong></p>
<p><img src="Figures/image-20200620175826519.png" alt="image-20200620175826519"></p>
<p><img src="Figures/image-20200620175926012.png" alt="image-20200620175926012"></p>
<hr>
<h2 id="hrnet-deep-high-resolution-representation-learning-for-visual-recognition">HRNet: Deep High-Resolution Representation Learning for Visual Recognition</h2>
<blockquote>
<p>å¤„ç†è¿‡ç¨‹ä¸­ä¿æŒé«˜åˆ†è¾¨ç‡ã€Œposition-sensitive taskã€<br>maintain high-res representation through the whole process<br>ä¸åŒäºskip connectionï¼šé«˜åˆ†è¾¨åˆ†æ”¯å¹³è¡Œconvï¼Œé€šè¿‡fusionè€Œä¸æ˜¯addèåˆé«˜ä½åˆ†æ”¯ï¼Œå¤šåˆ†è¾¨ç‡è¾“å‡º<br>ä¸åŒäºç‰¹å¾é‡‘å­—å¡”ï¼šé«˜ä½åˆ†è¾¨ç‡å¹³è¡Œè®¡ç®—ï¼ˆlow-reså¢åŠ åˆ†è¾¨ç‡ä¸‹convè®¡ç®—ï¼Œä¸æ˜¯é€šè¿‡high-resä¸€æ¬¡å·ç§¯downsampleå¾—åˆ°ï¼Œ<strong>é€æ­¥å¹³è¡Œ</strong>è®¡ç®—å¢åŠ ï¼‰  </p>
</blockquote>
<p>å…ˆå‰ç½‘ç»œï¼šencode high <img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ"> lowï¼Œrecover low <img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ"> high<br>æå‡ºç½‘ç»œï¼šè¿ç®—æ—¶<strong>ä¿æŒé«˜åˆ†è¾¨ç‡</strong>åˆ†æ”¯ï¼Œ<strong>å¹³è¡Œ</strong>çš„åŠ å…¥ä½åˆ†è¾¨ç‡åˆ†æ”¯ï¼›<strong>multi-res fusion</strong></p>
<h4 id="parallel-multi-res-conv">Parallel multi-res conv</h4>
<p><img src="Figures/24dc1e9896b61be4bef3511cd8a870ed0fd0e31c.png" alt="">ğŸ‘†æ¯ä¸ªstage <u>é€æ­¥åŠ å…¥ä¸€ä¸ªä½åˆ†è¾¨ç‡(eg 1/2)</u> åˆ†æ”¯ï¼Œä¸”ä¿æŒåŸæœ‰åˆ†è¾¨ç‡åˆ†æ”¯<br>ç±»ä¼¼ <u>group conv</u> ï¼Œé€šé“åˆ†åˆ« <img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ"> åˆ†è¾¨ç‡åˆ†åˆ«</p>
<h4 id="repeated-multi-res-fusion">Repeated multi-res fusion</h4>
<p>æ¯ä¸ªstage(4ä¸ªunit/block)äº¤æ¢ä¸åŒåˆ†è¾¨ç‡çš„ä¿¡æ¯<br><img src="Figures/e4187388dd2d925fbbd3c4f199e3d5e8c830eb90.png" alt="">ğŸ‘†high <img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ"> low: stride conv; low <img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ"> high: bilinear upsampling + 1x1 conv<br>an <u>extra</u> output for lower res output<img src="Figures/7ac095e7bf586fccf3c9b8de1caf0658163c37eb.png" alt="">ğŸ‘†èåˆç±»ä¼¼FC</p>
<h4 id="multi-res-representation-head-">Multi-res representation head/ä¸åŒä»»åŠ¡ä¸åŒè¾“å‡ºæ¨¡å¼</h4>
<p><img src="Figures/a2036193f4b7513cffb8bb02a77b3e3cbf9ab787.png" alt="">(a) å…³é”®ç‚¹æ£€æµ‹ (b) segmentation (c) object detection</p>
<hr>
<h2 id="region-proposal-by-guided-anchoring">Region Proposal by Guided Anchoring</h2>
<blockquote>
<p>æ›´å¥½çš„anchorï¼Œ<strong>æ”¹è¿›äº§ç”Ÿanchorçš„è¿‡ç¨‹</strong>ã€Œéå¯†é“ºã€<br>anchorä¸feature: <u><strong>alignment</strong></u> + <u><strong>consistency</strong></u> </p>
</blockquote>
<p>ä¸¤ä¸ªåˆ†æ”¯åˆ†åˆ«å¯¹anchorçš„ä¸­å¿ƒç‚¹å’Œé•¿å®½è¿›è¡Œé¢„æµ‹ï¼Œé˜²æ­¢offsetåç§»è¿‡å¤§ï¼Œanchorå’Œç‚¹çš„featureä¸å¯¹åº”<br>é‡‡ç”¨<strong>deformable conv</strong>ä½¿featureçš„èŒƒå›´å’Œanchorçš„å½¢çŠ¶å¯¹åº”ï¼Œæ¯ä¸ªä½ç½®anchorå½¢çŠ¶ä¸åŒè€Œcaptureä¸åŒçš„ç‰¹å¾ã€ŒåŠ offsetä»¥é€‚åº”anchorå½¢çŠ¶ã€<br><img src="Figures/ec5348cb3efb80de6adb90ab09fac616f97681bd.png" alt=""></p>
<h4 id="guided-anchoring">Guided Anchoring</h4>
<p><img src="https://latex.codecogs.com/svg.latex?p%28x,y,w,h|I%29=p%28x,y|I%29p%28w,h|x,y,I%29" alt="latex_equ"><br><strong>åˆ†ä¸¤æ­¥äº§ç”Ÿanchor</strong>ã€Œå‡å°åŒæ—¶é¢„æµ‹xywhæ—¶å‡ºç°çš„åç§»ä¸å¯¹åº”ã€</p>
<ol>
<li>locationï¼šé¢„æµ‹objectnessï¼Œä¹‹åé‡‡ç”¨mask_conv <strong>å‡å°‘åŒºåŸŸè®¡ç®—</strong><br>åªå¯¹ç‰©ä½“çš„ä¸­å¿ƒ(åŠé™„è¿‘)ä¸ºposè®­ç»ƒï¼Œé¢„æµ‹ç‰©ä½“ä¸­å¿ƒã€Œè¾¹ç¼˜ä¸å®¹æ˜“å›å½’æ¡†ã€</li>
<li>shapeï¼šé¢„æµ‹æ¯ä¸ªä½ç½®ä¸Šçš„best shapeï¼Œä½ç½®ä¸å˜åªå˜é•¿å®½ï¼Œä¸ä¼šmisalign<br>é¢„æµ‹<img src="https://latex.codecogs.com/svg.latex?w=k\times%20e^{dw}" alt="latex_equ">ï¼Œé¢„æµ‹dwï¼Œè€Œä¸æ˜¯wï¼ŒèŒƒå›´æ›´å¤§ğŸ‘‡<br><img src="https://latex.codecogs.com/svg.latex?w=\sigma%20\cdot%20s%20\cdot%20e^{dw},%20\;%20h=\sigma%20\cdot%20s%20\cdot%20e^{dh}" alt="latex_equ"></li>
</ol>
<p>é€‰æ‹©é«˜äºthreshçš„locationä¸­ï¼Œæ¦‚ç‡æœ€é«˜çš„shapeï¼Œäº§ç”Ÿanchor</p>
<h4 id="feature-adaptation">Feature adaptation</h4>
<p><strong>consistency</strong>: æ¯ç‚¹å¯¹åº”çš„anchoré•¿å®½ä¸åŒï¼Œæ‰€ä»¥å­¦ä¹ åˆ°ç‰¹å¾å¯¹åº”åŒºåŸŸçš„é•¿å®½ä¹Ÿåº”è¯¥ä¸åŒ<br><img src="https://latex.codecogs.com/svg.latex?\mathbf{f}&#39;_i=\mathcal{N}_T%28\mathbf{f}_i,w_i,h_i%29" alt="latex_equ"><br>åŸºäºå¯¹åº”anchorçš„é•¿å®½ï¼Œæ”¹å˜ç‰¹å¾ï¼ˆxyä¸å˜ï¼Œä½ç½®branchåªé¢„æµ‹objectness scoreï¼‰<br>ğŸ‘†ä½¿ç”¨deformable convolutionå®ç°</p>
<h4 id="anchor-shape-target">Anchor shape target</h4>
<p>è®­ç»ƒæ—¶anchorå’Œgt boxçš„åŒ¹é…ï¼Œè®­ç»ƒç›®æ ‡ã€‚whä¸ºå˜é‡ï¼Œæ— æ³•è®¡ç®—IoU</p>
<p><img src="https://latex.codecogs.com/svg.latex?\mathbf{vIoU}%28a_{\mathbf{wh}},\mathbf{gt}%29=\max\limits_{w&gt;0,h&gt;0}{\mathbf{IoU}_{normal}%28a_{\mathbf{wh}},\mathbf{gt}%29}" alt="latex_equ"></p>
<p>æ–¹æ³•ï¼šSampleå¸¸è§çš„whç»„åˆï¼Œè®¡ç®—å’ŒGTçš„IoUï¼Œå¾—åˆ°vIoUğŸ‘†ï¼Œä½œä¸ºanchorå’Œgt IoUçš„ä¼°è®¡ï¼Œä¹‹åé‡‡ç”¨å¸¸è§anchoråˆ†é…æ–¹æ³•ç¡®å®šè®­ç»ƒç›®æ ‡</p>
<h4 id="high-quality-proposal">High quality proposal</h4>
<p>ç”±äºç”Ÿæˆçš„anchoræ›´å¥½ï¼Œposæ ·æœ¬æ•°é‡æ›´å¤šã€‚è®­ç»ƒæ ·æœ¬åˆ†å¸ƒç¬¦åˆproposalåˆ†å¸ƒ<br>è®¾ç½® <u>æ›´é«˜æ­£è´Ÿæ ·æœ¬æ¯”ä¾‹</u> ï¼ŒåŒæ—¶ <u>æ›´å°‘æ ·æœ¬</u> æ•°é‡ï¼Œå³ <u>æ›´é«˜IoU threshold</u></p>
<hr>
<h2 id="soft-nms">Soft NMS</h2>
<blockquote>
<p>è§£å†³å¯†é›† _ç›¸é‚»_ ç‰©ä½“çš„æ£€æµ‹æ¡†é‡å IoUå¤§ï¼Œå¯èƒ½åœ¨NMSè¿‡ç¨‹ä¸­ <u><strong>è¯¯åˆ </strong></u><br>å¯†é›†ç‰©ä½“æ£€æµ‹æœ‰æå‡  </p>
</blockquote>
<h4 id="nms">NMS</h4>
<p>æŒ‰ç…§ç½®ä¿¡åº¦æ’åºï¼Œé€‰æ‹©æœ€å¤§çš„box iä¿ç•™ã€‚å…¶ä½™boxä¸­ï¼Œä¸Içš„IoU&gt;thresholdçš„åˆ é™¤(ç½®ä¿¡åº¦ç½®ä¸º0)ã€‚å†ä»å‰©ä¸‹boxé€‰æ‹©æœ€å¤§ä¿ç•™ï¼Œé‡å¤<br><img src="Figures/98b46d0bb819b13145c34910d32fda6c602d7192.jpg" alt=""></p>
<h4 id="soft-nms">Soft NMS</h4>
<p>é‡å IoUè¶Šå¤§ï¼Œç½®ä¿¡åº¦ä¸‹é™è¶Šå¤š<br>ç½®ä¿¡åº¦ç½®ä¸º0å˜ä¸ºæ›´æ–°IoU&gt;thresholdæ¡†çš„ç½®ä¿¡åº¦<br><img src="Figures/ec46758beec67fa960bc978c8fa18304cceee89d.jpg" alt=""><br>æˆ–<br><img src="Figures/89ba0e23898e18e892d209b76c3c2b6602fe3e0e.jpg" alt=""><br>Ref: <a href="https://zhuanlan.zhihu.com/p/42018282">NMSä¸soft NMS - çŸ¥ä¹</a></p>
<hr>
<h2 id="adaptive-nms-refining-pedestrian-detection-in-a-crowd">Adaptive NMS Refining Pedestrian Detection in a Crowd</h2>
<blockquote>
<p>å¯†é›†åœºæ™¯ä¸‹NMSè¯¯åˆ </p>
<p>é€šè¿‡é¢„æµ‹crowdç¨‹åº¦åŠ¨æ€é€‰æ‹©threshold</p>
</blockquote>
<p>å¯†é›†ä½ç½®æé«˜IoUé˜ˆå€¼ä¿ç•™ä¸´è¿‘æ¡†ï¼Œç¨€ç–ä½ç½®é™ä½IoUé˜ˆå€¼åˆ é™¤å†—ä½™æ¡†</p>
<p>å¯¹äº<strong>æ¯ä¸ªç‰©ä½“</strong>å®šä¹‰object density <img src="https://latex.codecogs.com/svg.latex?d_{i}:=\max%20_{b_{j}%20\in%20\mathcal{G},%20i%20\neq%20j}%20\operatorname{iou}\left%28b_{i},%20b_{j}\right%29" alt="latex_equ"> </p>
<p>é˜ˆå€¼è®¡ç®—è¿‡ç¨‹ <img src="https://latex.codecogs.com/svg.latex?N_{\mathcal{M}}:=\max%20\left%28N_{t},%20d_{\mathcal{M}}\right%29" alt="latex_equ"></p>
<p>NMSè¿‡ç¨‹ <img src="https://latex.codecogs.com/svg.latex?s_{i}=\left\{\begin{array}{ll}s_{i},%20&amp;%20\operatorname{iou}\left%28\mathcal{M},%20b_{i}\right%29&lt;N_{\mathcal{M}}%20\\%20s_{i}%20f\left%28\operatorname{iou}\left%28\mathcal{M},%20b_{i}\right%29\right%29,%20&amp;%20\text%20{%20iou%20}\left%28\mathcal{M},%20b_{i}\right%29%20\geq%20N_{\mathcal{M}}\end{array}\right." alt="latex_equ"></p>
<p>æµ‹è¯•æ—¶densityé€šè¿‡ç½‘ç»œ<code>density subnet</code>é¢„æµ‹ï¼Œobjectness map + bboxé¢„æµ‹<code>concat</code>ä½œä¸ºè¾“å…¥ï¼Œ<code>5x5</code>å·ç§¯(ä¸´è¿‘ç‰©ä½“çš„ä¿¡æ¯)</p>
<p><img src="Figures/image-20200428211808639.png" alt="image-20200428211808639"></p>
<p><img src="Figures/image-20200428211838035.png" alt="image-20200428211838035"></p>
<p>åœ¨<u>cityperson</u>å’Œ<u>crowdhuman</u>å¯†é›†æ•°æ®é›†æ•ˆæœå¥½</p>
<p>Ref: <a href="https://www.starlg.cn/2019/05/20/Adaptive-NMS/">https://www.starlg.cn/2019/05/20/Adaptive-NMS/</a></p>
<hr>
<h2 id="fast-nms">Fast NMS</h2>
<p><img src="Figures/image-20200510104231573.png" alt="image-20200510104231573"></p>
<p>æŒ‰ç…§confé¡ºåºæ„å»ºIoUçŸ©é˜µï¼Œè½¬ä¸ºä¸Šä¸‰è§’ã€‚å¯¹<img src="https://latex.codecogs.com/svg.latex?B_i" alt="latex_equ">ï¼Œå¦‚æœ<img src="https://latex.codecogs.com/svg.latex?\exists%20x_{i,j}&gt;\epsilon" alt="latex_equ">ï¼Œåˆ™å»æ‰<img src="https://latex.codecogs.com/svg.latex?B_i" alt="latex_equ">ï¼Œé€Ÿåº¦å¿«</p>
<p>é—®é¢˜ï¼šæ²¡æœ‰å»æ‰<img src="https://latex.codecogs.com/svg.latex?B_i" alt="latex_equ">æ—¶æŠŠä¹‹åçš„<img src="https://latex.codecogs.com/svg.latex?x_{i\;\cdot}" alt="latex_equ">å¤±æ•ˆï¼Œã€Œæ¨ªå‘ä¼ æ’­ã€ï¼Œå¯èƒ½å¤šåˆ é™¤æ¡†ã€‚<img src="https://latex.codecogs.com/svg.latex?B_i" alt="latex_equ">è¢«åˆ é™¤åï¼Œä¹‹åçš„æ¡†å’Œ<img src="https://latex.codecogs.com/svg.latex?B_i" alt="latex_equ">çš„IoUä»è¢«è€ƒè™‘è®¡ç®—</p>
<h2 id="cluster-nms">Cluster NMS</h2>
<p><em>Enhancing Geometric Factors in Model Learning and Inference for Object Detection and Instance Segmentation</em></p>
<h4 id="cluster-nms">Cluster-NMS</h4>
<p>æ”¹è¿›<code>Fast NMS</code>ï¼Œå¢åŠ remove row <img src="https://latex.codecogs.com/svg.latex?B_i" alt="latex_equ">çš„æ“ä½œ</p>
<p><img src="Figures/image-20200510121557382.png" alt="image-20200510121557382"></p>
<p><img src="https://latex.codecogs.com/svg.latex?b^{t-1}" alt="latex_equ">è¡¨ç¤º<img src="https://latex.codecogs.com/svg.latex?t-1" alt="latex_equ"> iterçš„NMS indicatorï¼Œtæ¬¡iteræ—¶å¯¹<img src="https://latex.codecogs.com/svg.latex?C^t" alt="latex_equ">è¿›è¡ŒNMS</p>
<p><img src="https://latex.codecogs.com/svg.latex?A=diag%28b%29" alt="latex_equ">è¡¨ç¤ºæ ¹æ®ä¸Šæ¬¡NMSç»“æœ(indicator)ï¼Œå¯¹å·²ç»è¢«supressedçš„æ¡†å»æ‰ï¼ˆiè¡Œç½®0ï¼Œä¸è€ƒè™‘ <img src="https://latex.codecogs.com/svg.latex?x_{i\;\cdot}" alt="latex_equ"> ï¼Œå’Œiæ¡†çš„IoUä¸è®¡ç®—ï¼‰</p>
<p><img src="https://latex.codecogs.com/svg.latex?T=1" alt="latex_equ">åŒ<code>Fast NMS</code>ï¼Œ<img src="https://latex.codecogs.com/svg.latex?T=N" alt="latex_equ">åŒ<code>NMS</code></p>
<p>æ²¡æœ‰é‡åˆçš„boxå¯ä»¥åˆ†æˆå¤šä¸ª<strong>cluster</strong>å¹¶è¡Œå¤„ç†</p>
<h4 id="score-penalty-reweigh-cluster-nms">Score penalty reweigh + Cluster NMS</h4>
<p>ç±»ä¼¼<code>Soft NMS</code>ä¸­ä¸æ˜¯ç›´æ¥å»é™¤box ã€Œhardã€ï¼Œå˜æˆå¯¹scoreè¿›è¡Œreweightã€Œsoftã€ï¼Œæ„æˆ<code>Cluster-NMS_S</code></p>
<p><img src="https://latex.codecogs.com/svg.latex?s_{j}=s_{j}%20\prod\limits_{i}%20e^{-\frac{%28\boldsymbol{A}%20\times%20\boldsymbol{X}%29_{i%20j}^{2}}{\sigma}}" alt="latex_equ"></p>
<p>jå’Œå…¶ä»–boxçš„IoUè¶Šå¤§ï¼Œscoreé™ä½è¶Šå¤š</p>
<p>ä¸åŒäº<code>Soft NMS</code>ï¼Œåªä¼šè¢« <u>å’Œæ›´é«˜confçš„boxæœ‰å¤§IoU</u> è€Œå—åˆ°æƒ©ç½šï¼Œç”±äºæ˜¯ä¸Šä¸‰è§’ï¼Œåªè®¡ç®—å’Œæ›´é å‰boxçš„IoU</p>
<h4 id="normalized-central-point-distance-cluster-nms">Normalized central point distance + Cluster NMS</h4>
<p>å¢åŠ åŒ<code>DIoU</code>ç±»ä¼¼çš„ä¸­å¿ƒç‚¹è·ç¦»<img src="https://latex.codecogs.com/svg.latex?D" alt="latex_equ">ï¼Œæ„æˆ<code>Cluster-NMS_S+D</code></p>
<p><img src="https://latex.codecogs.com/svg.latex?s_{j}=s_{j}%20\prod\limits_{i}%20\min%20\{e^{-\frac{%28\boldsymbol{A}%20\times%20\boldsymbol{X}%29_{i%20j}^{2}}{\sigma}}+D^{\beta},%201\}" alt="latex_equ"></p>
<h4 id="weighted-nms-cluster-nms">Weighted NMS + Cluster NMS</h4>
<p><code>Weighted NMS</code>æ ¹æ®IoUå’ŒconfåŠ æƒ<code>merge</code>é‡å æ¡†ï¼Œè¾“å‡º<strong>å…¨æ–°çš„æ¡†</strong>ã€Œé€Ÿåº¦æ…¢ã€</p>
<p><img src="https://latex.codecogs.com/svg.latex?\mathcal{B}=\frac{1}{\sum_{j}%20w_{j}}%20\sum_{\mathcal{B}_{j}%20\in%20\Lambda}%20w_{j}%20\mathcal{B}_{j}" alt="latex_equ"></p>
<p><img src="https://latex.codecogs.com/svg.latex?\mathcal{B}" alt="latex_equ">æ˜¯åŠ æƒèåˆåçš„å…¨æ–°çš„æ¡†ï¼Œ<img src="https://latex.codecogs.com/svg.latex?\Lambda=\left\{\mathcal{B}_{j}%20|%20x_{i%20j}%20\geq%20\varepsilon,%20\forall%20i\right\}" alt="latex_equ">ä¸ºé‡å æ¡†ï¼Œæƒé‡<img src="https://latex.codecogs.com/svg.latex?w_{j}=s_{j}%20I%20o%20U\left%28\mathcal{B},%20\mathcal{B}_{j}\right%29" alt="latex_equ">ï¼Œ<strong>weighted combination</strong></p>
<p>confä»é«˜åˆ°ä½ï¼Œæ‰¾åˆ°IoU&gt;thresholdçš„æ¡†ï¼Œæ ¹æ®IoUè¿›è¡ŒåŠ æƒæ±‚å’Œï¼Œå¾—åˆ°èåˆæ¡†ï¼›å†å¯¹å…¶ä»–IoU&lt;thresholdçš„æ¡†è®¡ç®— (<a href="https://github.com/sanch7/Weighted-NMS/blob/master/weighted_nms.py">https://github.com/sanch7/Weighted-NMS/blob/master/weighted_nms.py</a>)</p>
<p><code>Cluster-NMS_W</code>:</p>
<p><img src="https://latex.codecogs.com/svg.latex?\mathcal{C&#39;}=\mathcal{s}%20\otimes%20\mathcal{C}" alt="latex_equ"></p>
<p><img src="https://latex.codecogs.com/svg.latex?\mathcal{B}=\mathcal{C&#39;}\times%20\mathcal{B}" alt="latex_equ"></p>
<p><img src="Figures/image-20200510164152776.png" alt="image-20200510164152776"></p>
<h2 id="feature-nms-nms-by-learning-feature-embeddings">Feature NMS: NMS by Learning Feature Embeddings</h2>
<p><strong>å¯†é›†é‡å åœºæ™¯</strong>ä¸‹ï¼Œåªé€šè¿‡IoUä¸èƒ½åˆ¤æ–­æ˜¯å¦æ˜¯å¯¹åŒä¸€ä¸ªç‰©ä½“çš„é¢„æµ‹ã€‚<u><strong>å¢åŠ feature vec è·ç¦»åˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ä¸ªç‰©ä½“çš„é¢„æµ‹</strong></u>ï¼Œè·ç¦»å°åˆ é™¤</p>
<p><img src="Figures/image-20200520113710926.png" alt="image-20200520113710926"></p>
<p>å½“IoUæ— æ³•åˆ¤æ–­æ—¶ä½¿ç”¨embeddingåˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€ä¸ªç‰©ä½“</p>
<p>è®­ç»ƒä½¿ç”¨<u>Margin Loss</u>: <img src="https://latex.codecogs.com/svg.latex?L=\frac{\sum_{i%20\in%20\mathcal{A}}%20\sum_{j%20\in%20\mathcal{A}%20\backslash\{i\}}%20L^{\prime}%28i,%20j%29}{|\mathcal{A}|%20\cdot%28|\mathcal{A}|-1%29}" alt="latex_equ"></p>
<p>å…¶ä¸­ï¼Œpairwise loss: <img src="https://latex.codecogs.com/svg.latex?L^{\prime}%28i,%20j%29=\left\{\begin{array}{ll}\max%20\left%280,\left\|\mathbf{f}_{i},%20\mathbf{f}_{j}\right\|_{2}-%28\beta-\alpha%29\right%29,%20&amp;%20\text%20{%20if%20}%20o%20b%20j%28i%29=o%20b%20j%28j%29%20\\%20\max%20\left%280,%28\beta+\alpha%29-\left\|\mathbf{f}_{i},%20\mathbf{f}_{j}\right\|_{2}\right%29,%20&amp;%20\text%20{%20otherwise%20}\end{array}\right." alt="latex_equ"></p>
<hr>
<h2 id="matrix-nets-a-new-deep-architecture-for-object-detection-xnets-">Matrix Nets: A New Deep Architecture for Object Detection (xNets)</h2>
<blockquote>
<p>FPNå¤„ç†ä¸åŒå¤§å°çš„ç‰©ä½“(ç‰¹å¾é‡‘å­—å¡”)<br>ğŸ‘‡æœ¬æ–‡å¢åŠ ä¸åŒé•¿å®½æ¯”ç‰©ä½“çš„å¤„ç† (å¤§å°é‡‘å­—å¡”+aspect ratioé‡‘å­—å¡”)  </p>
</blockquote>
<p><img src="Figures/f96e9e976eb7720d970f1810c8396bf598967513.png" alt=""><br>é«˜åº¦ï¼Œå®½åº¦å‡åŠã€‚å·¦ä¸‹å³ä¸Šå‰ªæ(ç‰©ä½“ä¸å¸¸è§)<br>æ€§èƒ½æå‡ä¸æ˜æ˜¾ï¼Œç›¸æ¯”CenterNetå‚æ•°é‡å‡å°‘<br>Ref: <a href="https://mp.weixin.qq.com/s?__biz=MzA3MzI4MjgzMw==&amp;mid=2650768067&amp;idx=2&amp;sn=7133cf90287c91b297d857a57bdd6481&amp;chksm=871a46bdb06dcfab0f4092acc96db5b8dc88c34937e7ea1a5e813e7d53a165d2549db0640068&amp;scene=21#wechat_redirect">å‚æ•°å°‘ä¸€åŠã€é€Ÿåº¦å¿«3å€ï¼šæœ€æ–°ç›®æ ‡æ£€æµ‹æ ¸å¿ƒæ¶æ„æ¥äº†</a></p>
<hr>
<h2 id="iou-net">IoU-Net</h2>
<blockquote>
<p>Add localization confidence in NMS</p>
<p>å¯ä»¥çœ‹ä½œä¸€ç§ç²¾ç»†åŒ–çš„å‰èƒŒæ™¯åˆ†ç±»ï¼ˆsoftï¼‰</p>
</blockquote>
<h4 id="nms">NMS</h4>
<ol>
<li>é€‰æ‹©æœ€å¤§classification confidenceçš„æ¡†<img src="https://latex.codecogs.com/svg.latex?b_j" alt="latex_equ">ï¼ŒåŠ å…¥é›†åˆ<img src="https://latex.codecogs.com/svg.latex?S" alt="latex_equ">ã€‚</li>
<li>å…¶ä»–æ‰€æœ‰ä¸å†é›†åˆä¸­çš„æ¡†ï¼Œå¦‚æœå’Œ<img src="https://latex.codecogs.com/svg.latex?b_j" alt="latex_equ">çš„IoUå¤§äºthresholdï¼Œåˆ™åˆ å»ï¼Œç®€åŒ–é‡å¤æ¡†ã€‚</li>
<li>é‡å¤çŸ¥é“æ²¡æœ‰æ¡†ï¼Œ<img src="https://latex.codecogs.com/svg.latex?S" alt="latex_equ">ä¸ºç»“æœã€‚</li>
</ol>
<p>ä½¿ç”¨åˆ†ç±»ç½®ä¿¡åº¦ä½œä¸ºæœ€å¼€å§‹é€‰æ‹©æ¡†çš„ä¾æ®ï¼ŒIoUç”¨äºè®¡ç®—åˆ†ç±»ç½®ä¿¡åº¦æœ€å¤§çš„æ¡†å’Œå…¶ä»–æ¡†ä¹‹é—´çš„é‡åˆåº¦ï¼Œåˆ å»æ¡†ã€‚</p>
<p>è€ŒIoU-Netä½¿ç”¨é¢„æµ‹çš„æ¡†å’ŒGTçš„é‡åˆIoUï¼Œå³å®šä½ç½®ä¿¡åº¦ï¼Œé€‰æ‹©æœ€å¤§ä½œä¸ºä¾æ®ã€‚åœ¨inferenceé˜¶æ®µå‘æŒ¥ä½œç”¨ã€‚</p>
<h4 id="-iou">é¢„æµ‹IoU</h4>
<p><img src="https://images-1256050009.cos.ap-beijing.myqcloud.com/15689424793639.jpg" alt="15689424793639"><br>é€šè¿‡ç½‘ç»œé¢„æµ‹IoUï¼šä½¿ç”¨FPNä½œä¸ºéª¨å¹²ç½‘ç»œï¼Œæç‰¹å¾ã€‚ä½¿ç”¨PrRoI poolingæ›¿ä»£RoI pooling</p>
<h4 id="iou-guided-nms">IoU Guided NMS</h4>
<p><img src="https://images-1256050009.cos.ap-beijing.myqcloud.com/15689426602716.jpg" alt="15689426602716"><br>Rank all detection bbox on localization confidence.</p>
<p>é€‰æ‹©IoUæœ€å¤§çš„æ¡†ï¼Œå…¶ä»–æ¡†é‡å å¤§äºthresçš„æ¡†åªä½¿ç”¨ä»–çš„æœ€å¤§conf scoreä½œä¸ºIoUæœ€å¤§æ¡†çš„confã€Œæ ¹æ®IoUé€‰æ‹©ï¼Œæœ€å¤§scoreä¿®æ­£confã€</p>
<h4 id="consider-bounding-box-refinement-as-optimization">Consider bounding box refinement as optimization</h4>
<p><img src="https://images-1256050009.cos.ap-beijing.myqcloud.com/15689722991024.jpg" alt="15689722991024"><br>é€šè¿‡é¢„æµ‹IoUå¹¶äº§ç”Ÿæ¢¯åº¦ï¼Œæ›´æ–°bounding boxï¼Œå¹¶é€šè¿‡åˆ¤æ–­åˆ†æ•°çš„æå‡å’Œå·®å€¼æ¥æ›´æ–°è¾¹ç•Œæ¡†<br>// ToRead</p>
<h4 id="precise-roi-pooling">Precise RoI pooling</h4>
<p>ä½¿ç”¨åŒçº¿æ€§æ’å€¼æ¥è¿ç»­åŒ–ç‰¹å¾å›¾ï¼Œä»»æ„è¿ç»­åæ ‡(x,y)å¤„éƒ½æ˜¯è¿ç»­çš„<br><img src="https://latex.codecogs.com/svg.latex?f%28x,y%29=\Sigma_{i,j}IC%28x,y,i,j%29\times%20w_{i,j}" alt="latex_equ"><br><img src="https://latex.codecogs.com/svg.latex?IC%28x,y,i,j%29=max%280,1-|x-i|%29\times%20max%280,1-|y-j|%29" alt="latex_equ">æ˜¯æ’å€¼ç³»æ•°ï¼Œxyè¿ç»­ï¼Œijä¸ºåæ ‡åƒç´ ç‚¹ã€‚RoIçš„ä¸€ä¸ªbinè¡¨ç¤ºä¸ºå·¦ä¸Šè§’å’Œå³ä¸‹è§’çš„åæ ‡å¯¹ã€‚é€šè¿‡äºŒé‡ç§¯åˆ†è¿›è¡Œæ± åŒ–ï¼ˆåŠ æƒæ±‚å’Œï¼‰<br><img src="https://latex.codecogs.com/svg.latex?PrPool%28\{%28x_1,%20y_1%29,\;%28x_2,%20y_2%29\},\;F%29=\frac{\int_{y_1}^{y_2}\int_{x_1}^{x_2}f%28x,y%29dxdy}{%28x_2-x_1%29\times%20%28y_2-y_1%29}" alt="latex_equ"></p>
<p><img src="https://images-1256050009.cos.ap-beijing.myqcloud.com/15689719523883.jpg" alt="15689719523883"></p>
<p>ä½¿ç”¨ResNet-FPNä½œä¸ºéª¨å¹²ç½‘ç»œï¼ŒRoI poolingæ¢æˆPrRoI poolingã€‚åŒæ—¶IoUé¢„æµ‹åˆ†æ”¯å¯ä»¥å’ŒR-CNNçš„åˆ†ç±»å’Œè¾¹ç•Œæ¡†å›å½’åˆ†æ”¯å¹¶è¡Œå·¥ä½œ.</p>
<hr>
<h2 id="freeanchor-learning-to-match-anchors-for-visual-object-detection">FreeAnchor: Learning to Match Anchors for Visual Object Detection</h2>
<p>Related å¯¹äºanchorç”Ÿæˆ/åˆ†é…/é€‰æ‹©çš„æ”¹è¿›ï¼šGuided Anchoring, IoU-Net, MetaAnchor <a href="https://www.jianshu.com/p/a24d814613eb">MetaAnchor - ç®€ä¹¦</a></p>
<blockquote>
<p>å¯¹äºanchorå’Œobjectçš„<u><strong>åŒ¹é…æ–¹å¼</strong></u>çš„æ”¹è¿›ï¼ŒLearn to match </p>
</blockquote>
<p>ä¹‹å‰é‡‡ç”¨IoUæœ€å¤§çš„anchorè¿›è¡Œåˆ†é…ï¼šç»†é•¿ç‰©ä½“ï¼Œæœ€representativeçš„ç‰¹å¾ä¸åœ¨ç‰©ä½“ä¸­å¿ƒï¼ŒIoUæœ€å¤§<img src="https://latex.codecogs.com/svg.latex?\neq" alt="latex_equ">æœ€representative</p>
<p>Assignç­–ç•¥éœ€è¦æ»¡è¶³ï¼š</p>
<ol>
<li><p><strong>Recall</strong>: æ¯ä¸ªç‰©ä½“éƒ½èƒ½åˆ†é…ä¸€ä¸ªanchor</p>
</li>
<li><p><strong>Precision</strong>: åŒºåˆ†background anchor</p>
</li>
<li><p><strong>Compatible NMS</strong>: é«˜åˆ†ç±»åˆ†æ•°çš„anchoræœ‰å¥½çš„localization</p>
</li>
</ol>
<p><strong>matchingè¿‡ç¨‹çœ‹ä½œMLEè¿‡ç¨‹</strong>ï¼Œæ¯ä¸ªç‰©ä½“ä»bag of anchorä¸­é€‰likelihood probabilityæœ€å¤§çš„</p>
<h4 id="maximum-likelihood-estimation-detector">Maximum Likelihood Estimationåˆ†æç°æœ‰detector</h4>
<p>è®­ç»ƒæŸå¤±å‡½æ•°ï¼Œ<img src="https://latex.codecogs.com/svg.latex?C_{i,j}" alt="latex_equ">è¡¨ç¤ºj anchorå’Œi ç‰©ä½“åŒ¹é…ã€Œassign using IoU criterionã€<img src="https://latex.codecogs.com/svg.latex?\mathcal{L}%28\theta%29=\sum\limits_{a_j\in%20A_+}\sum\limits_{b_i\in%20B}C_{i,j}\mathcal{L}_{i,j}^{cls}%28\theta%29+\beta\sum\limits_{a_j\in%20A_+}\sum\limits_{b_i\in%20B}C_{i,j}\mathcal{L}_{i,j}^{loc}%28\theta%29+\sum\limits_{a_j\in%20A_-}\mathcal{L}_j^{bg}%28\theta%29" alt="latex_equ"></p>
<p>æŠŠè®­ç»ƒæŸå¤±å‡½æ•°çœ‹ä½œä¼¼ç„¶æ¦‚ç‡</p>
<p><img src="https://latex.codecogs.com/svg.latex?\begin{aligned}%20\mathcal{P}%28\theta%29%20&amp;=\mathbf{e^{-\mathcal{L}%28\theta%29}}%20\\%20&amp;=\prod_{a_{j}%20\in%20A_{+}}\left%28\sum_{b_{i}%20\in%20B}%20C_{i%20j}%20e^{-\mathcal{L}_{i%20j}^{c%20l_{j}}%28\theta%29}\right%29%20\prod_{a_{j}%20\in%20B_{+}}\left%28\sum_{b_{i}%20\in%20B}%20C_{i%20j}%20e^{-\beta%20\mathcal{L}_{j_{j}}^{l%20o%20c}%28\theta%29}\right%29%20\prod_{a_{j}%20\in%20A_{-}%20\atop%20a_{j}%20\in%20A_{-}}%20\mathcal{P}_{j}^{b%20g}%28\theta%29%20\\%20&amp;=\prod_{a_{j}%20\in%20A_{+}}\left%28\sum_{b_{i}%20\in%20B}%20C_{i%20j}%20\mathcal{P}_{i%20j}^{c%20l%20s}%28\theta%29\right%29%20\prod_{a_{j}%20\in%20A_{+}}\left%28\sum_{b_{i}%20\in%20B}%20C_{i%20j}%20\mathcal{P}_{i%20j}^{l%20o%20c}%28\theta%29\right%29%20\prod_{a_{j}%20\in%20A_{-}}%20\mathcal{P}_{j}^{b%20g}%28\theta%29%20\end{aligned}" alt="latex_equ"></p>
<p><u>æ˜ å°„éå¸¸å·§å¦™ï¼Œä½¿<img src="https://latex.codecogs.com/svg.latex?[0,+\infty%29" alt="latex_equ">çš„æŸå¤±æ˜ å°„åˆ°<img src="https://latex.codecogs.com/svg.latex?%280,1]" alt="latex_equ">ï¼Œè€Œä¸”æŸå¤±è¶Šå°ï¼Œ<img src="https://latex.codecogs.com/svg.latex?\mathcal{P}%28\theta%29" alt="latex_equ">è¶Šå¤§</u></p>
<p>å› æ­¤ï¼Œæœ€å°åŒ–æŸå¤±çš„ç›®æ ‡è½¬æ¢ä¸ºæœ€å¤§åŒ–ä¼¼ç„¶æ¦‚ç‡</p>
<h4 id="-detection-">æ”¹è¿›detectionä¼¼ç„¶å‡½æ•°</h4>
<p>ç›®æ ‡ recallï¼Œprecisionï¼Œcompatible</p>
<p><strong>Recall</strong>ï¼šæ¯ä¸ªobjæ„å»ºbag of anchorï¼Œæœ€å¤§åŒ–å…¶ä¸­anchorçš„clså’Œlocä¼¼ç„¶ã€‚æ¯ä¸ªobjä¸€å®šå­˜åœ¨ä¸€ä¸ªanchorå¯¹åº”</p>
<p><img src="https://latex.codecogs.com/svg.latex?\mathcal{P}_{\text%20{recall}}%28\theta%29=\prod_{i}%20\max%20_{a_{j}%20\in%20A_{i}}\left%28\mathcal{P}_{i%20j}^{c%20l%20s}%28\theta%29%20\mathcal{P}_{i%20j}^{l%20o%20c}%28\theta%29\right%29" alt="latex_equ"></p>
<p><strong>Precision</strong>ï¼šå³å¯¹anchoråŒºåˆ†å‰èƒŒæ™¯ï¼ŒæŠŠèƒŒæ™¯anchoråˆ†å‡º</p>
<p><img src="https://latex.codecogs.com/svg.latex?\mathcal{P}_{\text%20{precision}}%28\theta%29=\prod_{i}\left%281-P\left\{a_{j}%20\in%20A_{-}\right\}\left%281-\mathcal{P}_{j}^{b%20g}%28\theta%29\right%29\right%29" alt="latex_equ"></p>
<p>å…¶ä¸­<img src="https://latex.codecogs.com/svg.latex?P\{a_{j}%20\in%20A_{-}\}=1-\max\limits_iP\{a_j\to%20b_i\}" alt="latex_equ"> è¡¨ç¤ºanchor jä¸matchä»»ä½•ç‰©ä½“ã€‚å³anchorä¸matchä»»ä½•objæ¦‚ç‡è¶Šé«˜ï¼Œanchorä¸å±äºèƒŒæ™¯çš„æ¦‚ç‡è¶Šä½(1-)ï¼Œæ‰å¯ä»¥æœ€å¤§<img src="https://latex.codecogs.com/svg.latex?\mathcal{P}_{\text%20{precision}}%28\theta%29" alt="latex_equ"></p>
<p><strong>Compatible</strong>: <img src="https://latex.codecogs.com/svg.latex?P\{a_j\to%20b_i\}" alt="latex_equ">è¡¨ç¤ºj anchoråŒ¹é…i objæ¦‚ç‡ï¼ŒNMSæŒ‰ç…§clsåˆ†æ•°é€‰ã€‚æ‰€ä»¥æ”¹æˆlocåˆ†æ•°ã€Œi j çš„IoUã€è¶Šå¤§ï¼ŒåŒ¹é…æ¦‚ç‡è¶Šé«˜ï¼ŒPä¸ºå…³äºIoUçš„<u>saturated linear</u>å‡½æ•°ã€‚æ­¥éª¤å­˜åœ¨äº<img src="https://latex.codecogs.com/svg.latex?\mathcal{P}_{\text%20{precision}}%28\theta%29" alt="latex_equ">ä¸­</p>
<p><img src="Figures/2020-02-16-19-21-00-image.png" alt=""></p>
<p>æ¨ªåæ ‡ä¸ºIoU</p>
<p><strong>ä¼¼ç„¶å‡½æ•°</strong>:    Jointly maximize</p>
<p><img src="https://latex.codecogs.com/svg.latex?\mathcal{P}&#39;%28\theta%29=\mathcal{P}_{recall}%28\theta%29\times\mathcal{P}_{precision}%28\theta%29" alt="latex_equ"></p>
<h4 id="-matching-mechanism">æ”¹è¿›ä¼¼ç„¶å‡½æ•°æ¨å‡ºMatching Mechanism</h4>
<p>è®­ç»ƒæŸå¤±<img src="https://latex.codecogs.com/svg.latex?\mathcal{L}&#39;%28\theta%29=-\log\mathcal{P}&#39;%28\theta%29" alt="latex_equ">ï¼Œä½¿ç”¨FocalLoss</p>
<p>å…¶ä¸­æœ‰maxæ“ä½œï¼Œä½†éšæœºåˆå§‹åŒ–çš„ç½‘ç»œï¼Œæ‰€æœ‰anchorå¾—åˆ†éƒ½ä½ï¼Œmaxæ²¡æœ‰æ„ä¹‰</p>
<p>æ”¹ç”¨<strong>Mean-max</strong>å‡½æ•°ï¼š<img src="https://latex.codecogs.com/svg.latex?\operatorname{Mean}-\max%20%28X%29=\frac{\sum_{x_{j}%20\in%20X}%20\frac{x_{j}}{1-x_{j}}}{\sum_{x_{j}%20\in%20X}%20\frac{1}{1-x_{j}}}" alt="latex_equ"></p>
<p>è®­ç»ƒä¸å……åˆ†æ—¶æ¥è¿‘meanï¼Œä½¿ç”¨bagä¸­æ‰€æœ‰anchorè®­ç»ƒ</p>
<p>è®­ç»ƒå……åˆ†æ—¶æ¥è¿‘maxï¼Œé€‰æ‹©æœ€å¥½çš„anchorè®­ç»ƒ</p>
<p><img src="Figures/2020-02-16-20-55-42-image.png" alt=""></p>
<p>å¯è§†åŒ–ï¼Œanchor assign confident (laptop)</p>
<p><img src="Figures/2020-02-16-20-57-56-image.png" alt=""></p>
<p>ç›¸æ¯”baselineæœ‰æå‡3%. ä½¿ç”¨ResNeXt-64x4d-101ï¼Œ**ä¸ºmulti-scale</p>
<p><img src="Figures/2020-02-16-21-02-22-image.png" alt=""></p>
<p>Ref: <a href="https://www.aminer.cn/research_report/5dedbde4af66005a4482453f?download=false">https://www.aminer.cn/research_report/5dedbde4af66005a4482453f?download=false</a></p>
<hr>
<h2 id="-">å¯†é›†å°ç›®æ ‡</h2>
<p>Paper: <u>Benchmark for Generic Product Detection: A strong baseline for Dense Object Detection</u></p>
<p><img src="Figures/2020-02-21-21-03-09-image.png" alt=""></p>
<p><u>Scale Match for Tiny Person Detection</u>    [method+dataset]</p>
<hr>
<h2 id="aligndet-revisiting-feature-alignment-for-one-stage-object-detection">Aligndet: Revisiting Feature Alignment for One-stage Object Detection</h2>
<hr>
<h2 id="fpn-variants">FPN &amp; Variants</h2>
<p>æ‰€æœ‰FPNéƒ½ä½¿ç”¨backboneçš„å¤šå±‚ç‰¹å¾å›¾ï¼ˆç»è¿‡<code>1x1</code>å·ç§¯ï¼‰ğŸ‘‡<img src="https://latex.codecogs.com/svg.latex?C_{2..5}" alt="latex_equ"></p>
<p><img src="Figures/2020-02-22-16-21-13-image.png" alt=""></p>
<h4 id="top-down-fpn">Top-down FPN</h4>
<p>ç»å…¸FPNï¼Œä»æœ€é«˜å±‚ç‰¹å¾(semanticï¼Œlow-res)ç»è¿‡upsampleï¼Œå’Œå„åŒä¸€çº§çš„ç‰¹å¾å›¾ç›¸åŠ </p>
<p>ç»™åº•å±‚ç‰¹å¾å¼•å…¥é«˜å±‚è¯­ä¹‰ä¿¡æ¯ï¼Œç›Šäºå°ç›®æ ‡æ£€æµ‹ï¼ˆä½å±‚ç‰¹å¾å›¾ï¼‰</p>
<p><img src="Figures/2020-02-22-16-25-08-image.png" alt=""></p>
<p>å…¬å¼<img src="https://latex.codecogs.com/svg.latex?F_{i}^{t}=\mathbf{W}_{i+1}^{\mathrm{t}}%20\otimes\left%28U\left%28F_{i+1}^{t}\right%29+C_{i}\right%29" alt="latex_equ"></p>
<h4 id="bottom-up-fpn">Bottom-up FPN</h4>
<p>ä»æœ€åº•å±‚(high-res)å‘ä¸Šé€æ¬¡äº§ç”ŸFPNå±‚ï¼Œå‘é«˜å±‚ç‰¹å¾å›¾ä¼ æ’­ä½å±‚çš„ç©ºé—´ç»†èŠ‚ä¿¡æ¯(spatial)</p>
<p>ä»ä½åˆ°é«˜ï¼Œèåˆã€Œæœ¬å±‚ç‰¹å¾ï¼Œé«˜ä¸€å±‚ç‰¹å¾ï¼Œä¸Šä¸€å±‚FPNã€</p>
<p><img src="Figures/2020-02-22-16-42-55-image.png" alt=""></p>
<p>å…¬å¼<img src="https://latex.codecogs.com/svg.latex?F_{i}^{b}=\mathbf{W}_{\mathbf{i}}^{\mathbf{b}}%20\otimes\left%28D\left%28F_{i-1}^{b}\right%29+C_{i}+U\left%28C_{i+1}\right%29\right%29" alt="latex_equ"></p>
<p><img src="https://latex.codecogs.com/svg.latex?D\to" alt="latex_equ"> downsample, <img src="https://latex.codecogs.com/svg.latex?U\to" alt="latex_equ"> upsample</p>
<h4 id="fusing-splitting-fpn">Fusing-splitting FPN</h4>
<p>ä¸Šè¿°ä¸¤ä¸ªFPNé¡ºåºé€æ¬¡äº§ç”Ÿï¼Œå…ˆäº§ç”Ÿçš„å±‚ä¼šå¯¹ä¹‹åå±‚å½±å“(unfair)</p>
<p>é¦–å…ˆåˆ†ç»„<strong>fuse</strong>é«˜å±‚å’Œä½å±‚çš„ä¸´è¿‘ä¸¤ç»„ç‰¹å¾</p>
<p><img src="https://latex.codecogs.com/svg.latex?\alpha_s=C_4+U%28C_5%29,%20\alpha_l=D%28C_2%29+C_3" alt="latex_equ"></p>
<p>ç„¶å<strong>merge</strong>é«˜å±‚å’Œä½å±‚çš„ç‰¹å¾</p>
<p><img src="https://latex.codecogs.com/svg.latex?\beta_s=\mathbf{W_s^f}\otimes%20\mathrm{cat}%28\alpha_s,D%28\alpha_l%29%29" alt="latex_equ"></p>
<p><img src="https://latex.codecogs.com/svg.latex?\beta_l=\mathbf{W_l^f}\otimes%20\mathrm{cat}%28U%28\alpha_s%29,\alpha_l%29" alt="latex_equ"></p>
<p>å†<strong>split</strong>äº§ç”Ÿä¸åŒå±‚çš„ç‰¹å¾</p>
<p><img src="https://latex.codecogs.com/svg.latex?F_2^f=U%28\beta_l%29,%20F_3^f=\beta_l" alt="latex_equ"></p>
<p><img src="https://latex.codecogs.com/svg.latex?F_4^f=\beta_s,%20F_5^f=D%28\beta_s%29" alt="latex_equ"></p>
<p><img src="Figures/4acfff9cac36f72acc7a0cc716f33e27be53fd47.png" alt=""></p>
<p>Ref: <em>MFPN: A NOVEL MIXTURE FEATURE PYRAMID NETWORK OF MULTIPLE<br>ARCHITECTURES FOR OBJECT DETECTION</em></p>
<hr>
<h2 id="learning-data-augmentation-strategies-for-object-detection">Learning Data Augmentation Strategies for Object Detection</h2>
<blockquote>
<p><strong>æ•°æ®å¢å¼º</strong>ï¼Œé€šè¿‡æœç´¢æ¥<strong>combine</strong> transformations</p>
</blockquote>
<p>æ•°æ®å¢å¼ºè§’åº¦ï¼š1. Learn a <strong>generator</strong> to create data 2. Learn a set of <strong>transformations</strong> applied to existing data(æœ¬æ–‡)</p>
<p>å¸¸ç”¨transformerï¼šimage mirrorï¼Œmulti-scale trainingï¼Œcrop-and-erase (occlude)ï¼Œcut-and-paste</p>
<p>è‡ªåŠ¨å­¦ä¹ æ•°æ®é›†å¯¹åº”çš„æ•°æ®å¢å¼ºæ–¹å¼ï¼šAutoAugment</p>
<p>Policy searché—®é¢˜ï¼šK=5ä¸ªsub-policiesï¼Œæ¯ä¸ªåŒ…å«N=2ä¸ªæ“ä½œã€‚è®­ç»ƒæ—¶éšæœºé€‰æ‹©sub-policyï¼Œé¡ºåºæ‰§è¡ŒNã€‚</p>
<p>æ“ä½œä¸¤ä¸ªå‚æ•°ã€Œæ‰§è¡Œæ“ä½œçš„æ¦‚ç‡ï¼Œæ“ä½œå¤§å°ç¨‹åº¦ã€ğŸ‘‡</p>
<p><img src="/Users/mk/Library/Application Support/typora-user-images/image-20200228183031352.png" alt="image-20200228183031352"></p>
<p><img src="/Users/mk/Library/Application Support/typora-user-images/image-20200228192437277.png" alt="image-20200228192437277"></p>
<h4 id="transform">Transform</h4>
<ol>
<li><strong>Color operations</strong>: æ”¹å˜é¢œè‰²é€šé“ï¼Œobjä½ç½®ä¸å˜ <code>equalize, contrast brightness</code></li>
<li><strong>Geometric ops</strong>: æ”¹å˜objä½ç½®å’Œå¤§å° <code>rotate, ShearX, TranslationY</code></li>
<li><strong>Bounding box ops.</strong>: åªæ”¹å˜bboxå†…çš„å›¾åƒ <code>BBox_Only_Equalize, BBox_Only_Rotate, BBox_Only_FlipLR</code></li>
</ol>
<h4 id="results">Results</h4>
<p><code>Rotate</code> æ—‹è½¬å›¾ç‰‡å’Œbboxï¼ˆ<u>best</u>ï¼‰</p>
<p><code>Equalize</code> ç›´æ–¹å›¾å‡è¡¡åŒ–(Histogram equalization)ï¼Œå¹³è¡¡ä¸åŒç°åº¦åƒç´ å‡ºç°æ¦‚ç‡ï¼Œå¢å¤§å¯¹æ¯”åº¦ğŸ‘‡<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/Histogrammeinebnung.png/300px-Histogrammeinebnung.png" alt="A histogram which is zero apart from a central area containing strong peaks is transformed by stretching the peaked area to fill the entire x-axis."></p>
<p><code>BBox_Only_TranslateY</code> bboxå†…å‚ç›´å˜æ¢ï¼Œä¸Šä¸‹ç¿»è½¬</p>
<p><img src="/Users/mk/Library/Application Support/typora-user-images/image-20200228190923807.png" alt="image-20200228190923807"></p>
<hr>
<h2 id="yolo">YOLO</h2>
<p>åˆ†æ ¼å­(grids)ï¼Œæ¯ä¸ªæ ¼å­åªé¢„æµ‹è§„å®šæ•°é‡bboxï¼Œåªæœ‰å½“gt boxçš„ä¸­å¿ƒç‚¹è½å…¥gridå†…æ—¶ï¼Œæ­¤gridè´Ÿè´£é¢„æµ‹è¿™ä¸ªgtã€‚(<em>æ½œåœ¨é—®é¢˜ï¼šå¯†é›†ç‰©ä½“ï¼Œå¤šä¸ªä¸­å¿ƒç‚¹è½å…¥åŒä¸€ä¸ªgridï¼Œæ¼æ£€</em>)</p>
<p><img src="Figures/1*4Y1PaY3ZgxKt5w84_0pNxw.jpeg" alt="img"></p>
<p>ç½‘ç»œè¾“å‡º<code>(x,y,w,h), box_confidence_score</code>ï¼Œè¡¨ç¤ºnormalizedé•¿å®½å’Œ<u>ä¸­å¿ƒç‚¹</u>offsetï¼Œä»¥åŠç½®ä¿¡åº¦ã€Œè¡¨ç¤ºobjectnesså’Œä½ç½®å‡†ç¡®æ€§ã€</p>
<p><img src="Figures/1*e0VY6U1_WMF2KBoKQNZvkQ.png" alt="img"></p>
<p>åˆ†grid<img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ">æ¯ä¸ªgridäº§ç”Ÿkä¸ªé¢„æµ‹<img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ">ä¿ç•™é«˜box_conf_scoreé¢„æµ‹</p>
<p>å…¶ä¸­<img src="https://latex.codecogs.com/svg.latex?box\_conf\_score=P%28object%29\cdot%20IoU" alt="latex_equ">ï¼Œ<img src="https://latex.codecogs.com/svg.latex?conditional\_class\_prob=P%28class_i|object%29" alt="latex_equ"></p>
<p><strong>class confidence score</strong>: <img src="https://latex.codecogs.com/svg.latex?box\_conf\_score\times%20cond\_cls\_prob=P%28class_i%29\cdot%20IoU" alt="latex_equ"></p>
<p>è¡¨ç¤ºåˆ†ç±»å’Œå›å½’çš„å‡†ç¡®ç‡</p>
<p><img src="Figures/1*9ER4GVUtQGVA2Y0skC9OQQ.png" alt="img"></p>
<p><strong>ç½‘ç»œç»“æ„</strong>ğŸ‘†ï¼šä¸‹é‡‡æ ·+å…¨è¿æ¥å›å½’é¢„æµ‹</p>
<p><strong>Loss function</strong>ï¼šåŒ…æ‹¬åˆ†ç±»æŸå¤±ï¼Œä½ç½®æŸå¤±ï¼Œobjectness ï¼ˆ<img src="https://latex.codecogs.com/svg.latex?S\times%20S" alt="latex_equ">grids, <img src="https://latex.codecogs.com/svg.latex?B" alt="latex_equ"> bbox each grids ï¼‰</p>
<ol>
<li><p><strong>Classification loss</strong>ï¼šç±»åˆ«ï¼Œcond_cls_prob</p>
<p><img src="https://latex.codecogs.com/svg.latex?\sum_{i=0}^{S^{2}}%20\mathbb{1}_{i}^{\mathrm{obj}}%20\sum_{c%20\in%20\text%20{%20classes%20}}\left%28p_{i}%28c%29-\hat{p}_{i}%28c%29\right%29^{2}" alt="latex_equ"></p>
</li>
<li><p><strong>Localization loss</strong>ï¼šåªè®¡ç®—åŒ¹é…äº†gtçš„grid</p>
<p><img src="https://latex.codecogs.com/svg.latex?\begin{array}{c}%20\lambda_{\text%20{coord%20}}%20\sum_{i=0}^{S^{2}}%20\sum_{j=0}^{B}%20\mathbb{1}_{i%20j}^{\text%20{obj%20}}\left[\left%28x_{i}-\hat{x}_{i}\right%29^{2}+\left%28y_{i}-\hat{y}_{i}\right%29^{2}\right]%20\\%20\quad+\lambda_{\text%20{coord%20}}%20\sum_{i=0}^{S^{2}}%20\sum_{j=0}^{B}%20\mathbb{1}_{i%20j}^{\text%20{obj%20}}\left[%28\sqrt{w_{i}}-\sqrt{\hat{w}_{i}}%29^{2}+%28\sqrt{h_{i}}-\sqrt{\hat{h}_{i}}%29^{2}\right]%20\end{array}" alt="latex_equ"></p>
<p>where <img src="https://latex.codecogs.com/svg.latex?\mathbb{1}^{\mathrm{obj}}_{ij}=1" alt="latex_equ">è¡¨ç¤ºgrid içš„ç¬¬jä¸ªboxè´Ÿè´£é¢„æµ‹ç‰©ä½“ï¼Œé¢„æµ‹æ ¹å·æ¥ä½¿å¤§å°ç‰©ä½“è¯¯å·®å€¼å¯¹losså‡½æ•°è´¡çŒ®ä¸åŒã€Œè§å¹³æ–¹æ ¹å‡½æ•°ï¼Œxå°å¢é•¿å¿«ï¼Œxå¤§å¢é•¿æ…¢ã€‚å°å€¼è¯¯å·®å¢é•¿å¿«ï¼Œå¤§å€¼è¯¯å·®å¢é•¿æ…¢ã€</p>
</li>
<li><p><strong>Confidence loss</strong>ï¼šobjectnessï¼ŒåŒºåˆ†å‰èƒŒæ™¯ï¼Œä½¿ç”¨<img src="https://latex.codecogs.com/svg.latex?box\_conf\_score" alt="latex_equ">å³<img src="https://latex.codecogs.com/svg.latex?C_i" alt="latex_equ">è®¡ç®—</p>
<p><img src="https://latex.codecogs.com/svg.latex?\sum_{i=0}^{S^{2}}%20\sum_{j=0}^{B}%20\mathbb{1}_{i%20j}^{\mathrm{obj}}\left%28C_{i}-\hat{C}_{i}\right%29^{2}" alt="latex_equ">å’Œ<img src="https://latex.codecogs.com/svg.latex?\lambda_{\mathrm{noobj}}\sum_{i=0}^{S^{2}}%20\sum_{j=0}^{B}%20\mathbb{1}_{i%20j}^{\mathrm{noobj}}\left%28C_{i}-\hat{C}_{i}\right%29^{2}" alt="latex_equ"></p>
</li>
</ol>
<p>é‡‡ç”¨<strong>NMS</strong>å»æ‰é‡å¤æ¡†</p>
<p><strong>æ²¡æœ‰RPNå¯ä»¥è®©ç½‘ç»œè·å¾—æ›´å¤šcontextï¼Œåˆ©äºåˆ†ç±»(fewer false pos.)</strong></p>
<h3 id="yolov2">YOLOv2</h3>
<p><strong>BN</strong>ï¼Œ<strong>é«˜åˆ†è¾¨ç‡</strong> (<code>224x224</code>ä¸Špretrain backboneï¼Œ<code>448x448</code>ä¸Šfinetune)</p>
<p><strong>anchor</strong> boxï¼Œå¯¹gridå†…Bä¸ªboxå¢åŠ å…ˆéªŒçŸ¥è¯†ï¼Œè§„å®šåˆå§‹scaleå’Œshapeï¼Œ<u>focus on a specific shape</u>ï¼Œè®­ç»ƒæ›´ç¨³å®š   ğŸ‘‡ä»å·¦åˆ°å³</p>
<p><strong>Anchoræœºåˆ¶é€šè¿‡é¢„å®šä¹‰scaleå’Œshapeæ¥å¼•å…¥å…ˆéªŒçŸ¥è¯†</strong>ï¼Œbbox has strong patterns</p>
<p><img src="Figures/image-20200302192028409.png" alt="image-20200302192028409"></p>
<p>å»æ‰FCå±‚ï¼Œä½¿ç”¨<code>1x1 conv</code>æ”¹å˜é€šé“ä¸º<code>7x7x((4+1+20)x5)</code>ï¼Œgridå†…5ä¸ªanchor</p>
<p><img src="Figures/1*UsqjfoW3sLkmyXKQ0Hyo8A.png" alt="img"></p>
<p>ç‰¹å¾å›¾å¥‡æ•°åˆ†è¾¨ç‡ï¼šå¤§ç‰©ä½“å¤„äºå›¾ç‰‡ä¸­å¿ƒï¼Œå¥‡æ•°æ›´å¥½åˆ†which grid</p>
<p>å»æ‰pooling</p>
<p>anchor<strong>èšç±»</strong>ç¡®å®špredefined scale&amp;shapeï¼ˆğŸ‘‡æ•°æ®ç‚¹ä¹‹é—´<u>è·ç¦»è¡¨ç¤ºIoU</u>å¤§å°ï¼Œä½ç½®æ— æ„ä¹‰ï¼‰æ¯ç±»anchoré…ç½®çœ‹ä½œä¸€ä¸ªcluster</p>
<p><img src="Figures/1*esSmI0UaMr-GrqkUGMg0hA.jpeg" alt="img"></p>
<p>é¢„æµ‹offset <code>[tx, ty, tw, th]</code>å‡å°‘ç½‘ç»œé¢„æµ‹å–å€¼èŒƒå›´ï¼Œå¢å¤§å¯è¡¨ç¤ºçš„æ•°å€¼èŒƒå›´ğŸ‘‡</p>
<p><img src="Figures/1*gyOSRA_FDz4Pf5njoUb4KQ.jpeg" alt="img"></p>
<p>å¢åŠ <strong>passthrough</strong>ï¼Œç±»ä¼¼skip-connectionã€‚å’Œæµ…å±‚ç‰¹å¾å›¾<code>concat</code>é¢„æµ‹å°ç›®æ ‡</p>
<p><strong>Multi-Scale Training</strong>é‡‡ç”¨å¤šä¸ªå°ºåº¦è®­ç»ƒé€‚åº”å°ºåº¦å˜åŒ– <code>320x320, 352x352,..., 608x608</code> 10ä¸ªbatchçš„ä¸åŒå°ºåº¦å›¾ç‰‡è®­ç»ƒ</p>
<p>ä½¿ç”¨<strong>DarkNet</strong>ä½œä¸ºbackboneğŸ‘‡</p>
<p><img src="Figures/1*NBnDpz8fitkhcdnkgF2bvg.png" alt="img"></p>
<h3 id="yolo9000">YOLO9000</h3>
<p>ä½¿ç”¨hierarichical classificationè®­ç»ƒyoloï¼Œä½¿ç”¨WordTreeå°†åˆ†ç±»å’Œæ£€æµ‹æ•°æ®é›†æ··åˆè®­ç»ƒï¼Œåˆ†9418ç±»</p>
<h3 id="yolov3">YOLOv3</h3>
<p><strong>Multi-label classification</strong>ï¼šè¾“å‡ºä¸€ä¸ªlabel idè€Œä¸æ˜¯catç»´å‘é‡ï¼Œç›´æ¥è¾“å‡ºexclusive outputï¼Œä½¿ç”¨binary cross-entropy lossè®­ç»ƒ</p>
<p>æ¯ä¸ªç›®æ ‡åªåŒ¹é…ä¸€ä¸ªanchorï¼Œæ²¡æœ‰åŒ¹é…çš„anchorä¸è®¡ç®—clså’ŒlocæŸå¤±ï¼Œåªè®¡ç®—objectness</p>
<p><strong>FPN</strong>ï¼š<u>åœ¨3ä¸ªå°ºåº¦çš„ç‰¹å¾å›¾ä¸Šé¢„æµ‹ï¼Œæ¯ä¸ªgridé¢„æµ‹3ä¸ªanchor</u>ï¼Œä¸€å…±9ç§anchoré…ç½®</p>
<p><strong>Residual+DarkNet53</strong>ï¼šå·ç§¯å¢åŠ skip-connection</p>
<p><img src="Figures/1*biRYJyCSv-UTbTQTa4Afqg.png" alt="img"></p>
<p><strong>FPN</strong></p>
<p><img src="Figures/70.jpeg" alt="img"></p>
<p>Ref: <a href="https://medium.com/@jonathan_hui/real-time-object-detection-with-yolo-yolov2-28b1b93e2088">https://medium.com/@jonathan_hui/real-time-object-detection-with-yolo-yolov2-28b1b93e2088</a></p>
<p><a href="https://blog.csdn.net/leviopku/article/details/82660381">https://blog.csdn.net/leviopku/article/details/82660381</a></p>
<hr>
<h2 id="iou">IoU</h2>
<p>è¯„ä»·é¢„æµ‹å’Œgtçš„è·ç¦»ï¼Œå›å½’ç›®æ ‡ã€‚å…·æœ‰<strong>å°ºåº¦ä¸å˜å½¢</strong></p>
<p><img src="https://latex.codecogs.com/svg.latex?\operatorname{IoU}=\frac{|A\cap%20B|}{|A\cup%20B|}" alt="latex_equ"></p>
<p>è®­ç»ƒ<img src="https://latex.codecogs.com/svg.latex?L_{IoU}=1-\operatorname{IoU}" alt="latex_equ"></p>
<p>é—®é¢˜ï¼š</p>
<ol>
<li><p><u>æ²¡æœ‰é‡å </u>æ—¶ IoU=0ï¼Œæ²¡æœ‰æ¢¯åº¦æ— æ³•ç”¨IoU lossè®­ç»ƒ</p>
</li>
<li><p>æ— æ³•å¾ˆå¥½åæ˜ æ–¹å‘ä¸ä¸€è‡´æ—¶é‡å </p>
<p><img src="Figures/image-20200303220421986.png" alt="image-20200303220421986"></p>
</li>
</ol>
<h4 id="giou-generalized-">GIoU (Generalized)</h4>
<p><img src="https://latex.codecogs.com/svg.latex?\operatorname{GIoU}=\operatorname{IoU}-\frac{|C\backslash%28A\cap%20B%29|}{|C|}" alt="latex_equ"></p>
<p>å…¶ä¸­<img src="https://latex.codecogs.com/svg.latex?C" alt="latex_equ">ä¸ºåŒ…å«Aå’ŒBçš„æœ€å°å‡¸å¤šè¾¹å½¢(enclosing convex)ï¼Œå¤šä¸ºçŸ©å½¢</p>
<p>Aå’ŒBä¸é‡åˆæ—¶ä¹Ÿå¯ä»¥ä¼˜åŒ–ï¼ŒèŒƒå›´<img src="https://latex.codecogs.com/svg.latex?[-1,1]" alt="latex_equ">ï¼Œä¸é‡åˆæ—¶ä¸ºè´Ÿæ•°(provide moving direction)</p>
<p>å…³æ³¨<strong>å½¢çŠ¶ä¹‹é—´ç¼éš™å‡å°</strong>ï¼Œå¦‚ğŸ‘†2,3ä¸­ç¼éš™å¯¼è‡´GIoUæ›´å°</p>
<p><img src="Figures/v2-a6311e2e892658c42d52b939cb467975_1440w.jpg" alt="img"></p>
<p>ğŸ‘†&lt;font color=&quot;#00dd00&quot;&gt;ä¸é‡å æ ·æœ¬&lt;/font&gt;ï¼ŒIoU=0ï¼Œè€ŒGIoUä¸ºè´Ÿå€¼ï¼Œæœ‰æ¢¯åº¦</p>
<p>ğŸ‘†&lt;font color=&quot;#666600&quot;&gt;é‡å æ ·æœ¬&lt;/font&gt;ï¼Œä¸æ–­ä¼˜åŒ–è¿‡ç¨‹ä¸­GIoU<img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ">IoU</p>
<p><u>ä½¿ç”¨IoU Loss <img src="https://latex.codecogs.com/svg.latex?L_{IoU}" alt="latex_equ">æˆ–<img src="https://latex.codecogs.com/svg.latex?L_{GIoU}" alt="latex_equ">è®­ç»ƒ</u>ï¼Œç›¸æ¯”Sommoth-L1å’ŒMSEèƒ½å¸¦æ¥æ€§èƒ½æå‡</p>
<h4 id="diou-distance-">DIoU (Distance)</h4>
<blockquote>
<p>å¥½çš„bounding box regres. æ ‡å‡†éœ€è¦è€ƒè™‘ä¸‰ä¸ªå› ç´ ï¼š<strong>Overlap, Center Distance, Aspect Ratio</strong></p>
</blockquote>
<p>ç›´æ¥ä¼˜åŒ–ä¸¤ä¸ªæ¡†ä¸­å¿ƒç‚¹çš„è·ç¦»</p>
<p><img src="https://latex.codecogs.com/svg.latex?\operatorname{DIoU}=\operatorname{IoU}-\frac{\rho^2%28b,b^{gt}%29}{c^2}" alt="latex_equ"></p>
<p>å…¶ä¸­<img src="https://latex.codecogs.com/svg.latex?\rho" alt="latex_equ"> (or å›¾ä¸­<img src="https://latex.codecogs.com/svg.latex?d" alt="latex_equ">)è¡¨ç¤ºä¸­å¿ƒç‚¹çš„æ¬§å¼è·ç¦»ï¼ˆ<strong>L1å¯ä»¥å—ï¼Ÿ</strong>ï¼‰ï¼Œ<img src="https://latex.codecogs.com/svg.latex?c" alt="latex_equ">è¡¨ç¤ºåŒ…å«ä¸¤ä¸ªæ¡†çš„æœ€å°é—­åŒ…åŒºåŸŸçš„å¯¹è§’çº¿è·ç¦»ğŸ‘‡</p>
<p><img src="Figures/image-20200303230451277.png" alt="image-20200303230451277"></p>
<p>ç›¸æ¯”GIoUï¼šGIoUæ›´å¼ºè°ƒå¯¹é½ï¼Œåªè¦å¯¹é½ä¹‹åæ²¡æœ‰æ¢¯åº¦ï¼Œå¦‚ğŸ‘‡ï¼Œé¢„æµ‹è“è‰²æ¡†å’ŒGTç»¿è‰²å¯¹é½ï¼Œæ²¡æœ‰ç¼éš™ï¼ŒGIoU term=0ã€Œä¸€æ¡†åŒ…æ‹¬å¦ä¸€çš„æƒ…å†µã€</p>
<p><img src="Figures/image-20200303230816475.png" alt="image-20200303230816475"></p>
<p>è€ŒDIoUç›´æ¥ä¼˜åŒ–æ¡†ä¸­å¿ƒçš„é‡åˆï¼Œè·ç¦»è¿‘ğŸ‘‡</p>
<p><img src="Figures/image-20200303230931086.png" alt="image-20200303230931086"></p>
<p><img src="Figures/image-20200303232843528.png" alt="image-20200303232843528"></p>
<p>ğŸ‘†IoUä¸é‡å lossé«˜ï¼ŒGIoUæ­£å‚ç›´æ°´å¹³æ–¹å‘lossé«˜ï¼ˆå¦‚ğŸ‘†ğŸ‘†ğŸ‘†å›¾ï¼‰ï¼ŒDIoUè¾ƒä½</p>
<p>DIoUä¹Ÿå¯ç”¨äºNMSä¸­DIoU-NMS</p>
<h4 id="ciou-complete-">CIoU (Complete)</h4>
<p><img src="https://latex.codecogs.com/svg.latex?\operatorname{CIoU}=\operatorname{IoU}-\frac{\rho^2%28b,b^{gt}%29}{c^2}-\alpha%20v" alt="latex_equ"></p>
<p><img src="https://latex.codecogs.com/svg.latex?v=\frac{4}{\pi^2}%28\arctan{\frac{w^{gt}}{h^{gt}}}-\arctan{\frac{w}{h}}%29^2" alt="latex_equ"></p>
<p><img src="https://latex.codecogs.com/svg.latex?\alpha=\frac{v}{%281-\operatorname{IoU}%29+v}" alt="latex_equ"></p>
<p>ä½¿ç”¨å„ç§IoU lossè®­ç»ƒğŸ‘‡</p>
<p><img src="Figures/image-20200303233112636.png" alt="image-20200303233112636"></p>
<hr>
<h2 id="hambox-delving-into-online-high-quality-anchors-mining-for-detecting-outer-faces">HAMBox: Delving into Online High-quality Anchors Mining for Detecting Outer Faces</h2>
<blockquote>
<p>åœ¨çº¿åŒ¹é…ï¼Œå…ˆå›å½’å‡ºæ¡†ï¼Œå†anchor-targetåŒ¹é…è®¡ç®—loss</p>
</blockquote>
<h4 id="-motivation">å®éªŒ/Motivation</h4>
<p><img src="Figures/image-20200316221449869.png" alt="image-20200316221449869"></p>
<p>ğŸ‘†anchorå¤§ï¼Œæ¯ä¸ªäººè„¸åŒ¹é…åˆ°çš„æ•°é‡å˜å¤šï¼Œä½†æ˜¯åŒ¹é…åˆ°äººè„¸å æ‰€æœ‰äººè„¸ä¸­å æ¯”ä¸‹é™ï¼Œäººè„¸recallä¸‹é™</p>
<p>ğŸ‘†anchorå°ï¼Œæ¯ä¸ªäººè„¸åŒ¹é…åˆ°çš„anchoræ•°é‡ä¸‹é™ï¼Œä½†æ˜¯å¤§å¤šæ•°äººè„¸éƒ½æœ‰åŒ¹é…anchorï¼Œäººè„¸recallä¸Šå‡</p>
<p><img src="Figures/image-20200316221821820.png" alt="image-20200316221821820"></p>
<p>ğŸ‘†0.35ä¸ºanchorå’Œtarget matchçš„thresholdï¼Œæ‰€ä»¥89%çš„anchoréƒ½æ²¡æœ‰è¢«match</p>
<p><img src="Figures/image-20200316221942813.png" alt="image-20200316221942813"></p>
<p>==å…³é”®== çºµåæ ‡ä»£è¡¨faceæ•°é‡</p>
<p>match 1ä¸ªanchorçš„faceæœ‰2492å¼ ï¼Œanchorèƒ½äº§ç”Ÿçš„æ­£ç¡®é¢„æµ‹æ¡†ï¼ˆ<code>IoU&gt;0.5</code>ï¼ŒCorrectly Predicted Bounding Boxï¼‰å¯¹åº”çš„äººè„¸æœ‰1968å¼  <img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ"> <u><em>å¤§å¤šæ•°äººè„¸éƒ½èƒ½é€šè¿‡anchoräº§ç”Ÿä¸€ä¸ªIoUé«˜çš„é¢„æµ‹æ¡†</em></u></p>
<p>é¢„æµ‹æ¡†ç»è¿‡NMSä¹‹åèƒ½ä¿ç•™ä¸‹æ¥çš„äººè„¸åªæœ‰343å¼  <img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ"> <em><u>å¤§å¤šæ•°äººè„¸ç»è¿‡anchoräº§ç”Ÿçš„é¢„æµ‹æ¡†éƒ½è¢«NMSè¿‡æ»¤æ‰ï¼Œè€Œå¯¼è‡´è¿™äº›faceæ¼æ£€</u></em></p>
<p>ä½†æ˜¯NMSåªåˆ é™¤ä¸€ä¸ªä½ç½®é‡å¤çš„æ¡†(IoUè¿‡å¤§)ï¼Œå¯¹äºæ¼æ£€çš„äººè„¸ï¼Œåªè¦æœ‰æ¡†coverï¼Œå°±ä¸€å®šä¼šä¿ç•™ï¼ŒNMSååŒä¸€ä¸ªä½ç½®è‡³å°‘ä¿ç•™ä¸€ä¸ªscoreæœ€å¤§çš„æ¡† <img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ"> NMSåå¯¼è‡´æ¼æ£€çš„1625å¼ faceï¼Œäº§ç”Ÿäº†CPBB(<code>IoU&gt;0.5</code>)ï¼Œä½†æ˜¯NMSè¢«åˆ æ‰ <img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ"> IoUè¶³å¤Ÿå¤§ï¼Œä½†æ˜¯å¾—åˆ†å¤ªä½ï¼ˆä½äº<code>cls_threshold</code>)ï¼ŒNMSæ—¶è¿‡ä½scoreçš„å¿½ç•¥æ‰(ä¸ä¼šè€ƒè™‘IoU) <img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ"> <em><u>æ˜¯ç”±äºè®­ç»ƒçš„æ—¶å€™æ­¤anchoræ²¡æœ‰matchï¼Œåˆ†ç±»åˆ†æ”¯è®­ç»ƒç›®æ ‡ä¸ºBGï¼Œåˆ†ç±»ç½‘ç»œé™ä½äº†score</u></em>ã€Œæœ¬è´¨ä¸ºIoUå’Œscoreçš„mismatchã€</p>
<p>ğŸ‘†<strong>ç»“è®ºï¼šä½IoUè€Œæ²¡æœ‰è¢«matchçš„anchorä¹Ÿèƒ½äº§ç”Ÿå¾ˆå¥½çš„é¢„æµ‹æ¡†(CPBB)</strong>ï¼Œéœ€è¦è¢«matchä¸ºç‰©ä½“ï¼Œæé«˜å…¶åˆ†ç±»scoreã€‚è¿™äº›anchorè´Ÿè´£çš„faceå¤šä¸ºouter face(éš¾æ ·ä¾‹)ï¼Œä¸Šè¿°ä¹Ÿä¸ºouter faceæ¼æ£€çš„åŸå› ï¼ˆä½IoUæ¡†è¢«unmatchï¼Œæ— æ³•è®­ç»ƒï¼Œåˆ†ç±»ç½‘ç»œä¸èƒ½åˆ†ç±»ä¸ºé«˜åˆ†ï¼‰</p>
<h4 id="hambox-online-high-quality-anchor-mining-">HAMBox (Online High-quality Anchor Mining)</h4>
<p>é€‰æ‹©å¤§anchorï¼Œé€šè¿‡OHAMæ¥è¿›è¡Œå¼¥è¡¥æ²¡æœ‰anchor matchçš„face</p>
<p><strong>ä¼ ç»Ÿmatchç­–ç•¥</strong>ï¼šä¸€ä¸ªface/targeté¦–å…ˆmatchæ‰€æœ‰<u>å’Œå®ƒIoUå¤§äºthreshold</u>çš„anchorã€‚æ­¤åï¼Œå¯¹äºæ²¡æœ‰anchorå’Œå®ƒIoUé«˜äºé˜ˆå€¼çš„faceï¼Œé€‰æ‹©<u>å’Œå®ƒIoUæœ€å¤§</u>çš„anchoråŒ¹é…è¿›è¡Œè¡¥å……ï¼ˆonly oneï¼‰</p>
<p><strong>OHAM</strong>ï¼š1) matchæ‰€æœ‰anchor IoUå¤§äºthresholdçš„faceï¼Œå¯¹äºæ²¡æœ‰anchoråŒ¹é…çš„faceï¼Œä¸è¿›è¡Œcompensate. 2) å¯¹æ‰€æœ‰æ¡†å›å½’è®¡ç®—bbox. 3) å¯¹æ‰€æœ‰æ²¡æœ‰åŒ¹é…anchorçš„faceï¼Œè®¡ç®—é¢„æµ‹æ¡†å’Œfaceçš„IoUï¼Œå¯¹å…¶è¿›è¡Œå¼¥è¡¥ï¼Œ<img src="https://latex.codecogs.com/svg.latex?\operatorname{IoU}&gt;\operatorname{threshold&#39;}" alt="latex_equ"> ã€Œæ²¡æœ‰åŒ¹é…æˆ–åŒ¹é…æ•°é‡ä¸è¶³ (K anchor bag)ã€</p>
<p><strong>è®¡ç®—Losså­¦ä¹ æ—¶ï¼Œä½¿ç”¨å›å½’åçš„bboxå’ŒtargetåŒ¹é…ï¼Œæ¥å¼¥è¡¥ç”¨åŸå§‹anchorå’ŒtargetåŒ¹é…çš„æ•°é‡ä¸è¶³é—®é¢˜</strong></p>
<h4 id="regression-aware-focal-loss">Regression-aware Focal Loss</h4>
<p><img src="https://latex.codecogs.com/svg.latex?\begin{array}{l}%20L_{c%20l%20s}\left%28p_{i}\right%29=\frac{1}{N_{c%20o%20m}}%20\sum_{i%20\in%20\psi}%20F_{i}%20L_{f%20l}\left%28p_{i},%20g_{i}^{*}\right%29%20\\%20+\frac{1}{N_{n%20o%20r%20m}}%20\sum_{i%20\in%20\Omega}\left%281_{\left%28l_{i}^{*}=0\right%29}%201_{\left%28F_{i}&lt;0.5\right%29}+1_{\left%28l_{i}^{*}=1\right%29}\right%29%20L_{f%20l}\left%28p_{i},%20l_{i}^{*}\right%29%20\end{array}" alt="latex_equ"></p>
<p>å…¶ä¸­<img src="https://latex.codecogs.com/svg.latex?\psi" alt="latex_equ">è¡¨ç¤ºå¼¥è¡¥çš„anchorï¼Œ<img src="https://latex.codecogs.com/svg.latex?N_{com}" alt="latex_equ">ä¸ºæ•°é‡ï¼Œpé¢„æµ‹labelï¼Œg=gt</p>
<p><img src="https://latex.codecogs.com/svg.latex?\Omega" alt="latex_equ">ä¸ºmatched anchorå’Œunmatched low-quality (IoU&lt;0.5) anchorã€Œå³unmatched hq anchorä¸è¿›è¡Œè®­ç»ƒï¼Œåº”è¯¥hqä»æœªè¢«matchè¡¨ç¤º<u>ç®€å•æ ·ä¾‹ä¸Šå¤šä½™(&gt;K)çš„anchor</u>ã€ï¼Œ<img src="https://latex.codecogs.com/svg.latex?N_{norm}" alt="latex_equ">ä¸ºæ•°é‡ï¼Œ<img src="https://latex.codecogs.com/svg.latex?F_i" alt="latex_equ">è¡¨ç¤ºIoUï¼Œ<img src="https://latex.codecogs.com/svg.latex?l_i^*" alt="latex_equ">è¡¨ç¤ºç¬¬ä¸€æ¬¡matchçš„label</p>
<p><img src="https://latex.codecogs.com/svg.latex?\begin{aligned}%20L_{l%20o%20c}\left%28x_{i}\right%29%20&amp;=\frac{1}{N_{c%20o%20m}}%20\sum_{i%20\in%20\psi}%20L_{S%20m%20o%20o%20t%20h%20L%201}\left%28x_{i},%20x_{i}^{*}\right%29%20\\%20&amp;+\frac{1}{N_{n%20o%20r%20m}}%20\sum_{i%20\in%20\Omega}%20L_{S%20m%20o%20o%20t%20h%20L%201}\left%28x_{i},%20x_{i}^{*}\right%29%20\end{aligned}" alt="latex_equ"></p>
<p><img src="Figures/image-20200316225903344.png" alt="image-20200316225903344"></p>
<hr>
<h2 id="-rfb-net-receptive-field-block-net-for-accurate-and-fast-object-detection">[RFB-Net] Receptive Field Block Net for Accurate and Fast Object Detection</h2>
<blockquote>
<p>ä¸åŒæ„Ÿå—é‡ï¼Œå¯¹åº”ä¸åŒæ‰©å¼ (dilation)</p>
<p><strong>ä¸æ˜¯å¤šå°ºåº¦çš„ç‰¹å¾å›¾ï¼Œè€Œæ˜¯ä¸åŒæ„Ÿå—é‡å¤§å°çš„ç‰¹å¾å›¾</strong></p>
</blockquote>
<p><img src="Figures/image-20200321165433401.png" alt="image-20200321165433401"></p>
<p>ä¹‹å‰åªå˜æ„Ÿå—é‡(receptive field/kernel size)ï¼Œæˆ–è€…åªå˜æ‰©å¼ å°ºåº¦(ASPP)</p>
<p>RFBæå‡ºæ„Ÿå—é‡å’Œæ‰©å¼ å°ºåº¦åº”è¯¥åŒæ—¶å˜åŒ–ã€Œç›¸äº’å½±å“ã€</p>
<p>ğŸ‘‡åœˆåªè¡¨ç¤ºæ„Ÿå—é‡å¤§å°ï¼Œ<u>å¤§çš„kernelå¯¹åº”å¤§çš„dilateï¼Œä½¿æ„Ÿå—é‡æ›´å¤§</u></p>
<p><img src="Figures/image-20200321165623460.png" alt="image-20200321165623460"></p>
<p>å®ç°ä¸Š</p>
<p><img src="Figures/image-20200321165853355.png" alt="image-20200321165853355"></p>
<p>ä½¿ç”¨ä¸¤ä¸ª<code>3x3</code>ä»£æ›¿<code>5x5</code>ã€‚<strong>æ³¨æ„paddingï¼Œæ‰€æœ‰éƒ½ä¸ºsame size(k=3, p=1)ï¼Œæ¯ä¸ªåˆ†æ”¯äº§ç”Ÿçš„ç‰¹å¾å›¾å¤§å°ç›¸åŒ</strong></p>
<pre><code class="lang-python">self.branch0 = nn.Sequential(
                Conv(in_planes, 2*inter_planes, kernel_size=1, stride=stride),
                Conv(2*inter_planes, 2*inter_planes, kernel_size=3, stride=1, padding=visual, dilation=visual, relu=False)
                )
        self.branch1 = nn.Sequential(
                Conv(in_planes, inter_planes, kernel_size=1, stride=1),
                Conv(inter_planes, 2*inter_planes, kernel_size=(3,3), stride=stride, padding=(1,1)),
                Conv(2*inter_planes, 2*inter_planes, kernel_size=3, stride=1, padding=visual+1, dilation=visual+1, relu=False)
                )
        self.branch2 = nn.Sequential(
                Conv(in_planes, inter_planes, kernel_size=1, stride=1),
                Conv(inter_planes, (inter_planes//2)*3, kernel_size=3, stride=1, padding=1),
                Conv((inter_planes//2)*3, 2*inter_planes, kernel_size=3, stride=stride, padding=1),
                Conv(2*inter_planes, 2*inter_planes, kernel_size=3, stride=1, padding=2*visual+1, dilation=2*visual+1, relu=False)
                )
</code></pre>
<hr>
<h2 id="-asff-learning-spatial-fusion-for-single-shot-object-detection">[ASFF] Learning Spatial Fusion for Single Shot Object Detection</h2>
<blockquote>
<p>å¤šå°ºåº¦ç‰¹å¾å›¾èåˆ</p>
</blockquote>
<p><img src="Figures/image-20200321192646888.png" alt="image-20200321192646888"></p>
<p>ç‰¹å¾é¦–å…ˆç»è¿‡resizeï¼Œå†èåˆã€‚<em>resizeå¯ä½¿ç”¨deconv/conv, æ’å€¼/pooling</em></p>
<p><img src="https://latex.codecogs.com/svg.latex?\mathbf{y}_{i%20j}^{l}=\alpha_{i%20j}^{l}%20\cdot%20\mathbf{x}_{i%20j}^{1%20\rightarrow%20l}+\beta_{i%20j}^{l}%20\cdot%20\mathbf{x}_{i%20j}^{2%20\rightarrow%20l}+\gamma_{i%20j}^{l}%20\cdot%20\mathbf{x}_{i%20j}^{3%20\rightarrow%20l}" alt="latex_equ"></p>
<p>Where <img src="https://latex.codecogs.com/svg.latex?\alpha_{i%20j}^{l}=\frac{e^{\lambda_{\alpha_{i%20j}}^{l}}}{e^{\lambda_{\alpha_{i%20j}}^{l}}+e^{\lambda_{\beta_{i%20j}}^{l}}+e^{\lambda_{\gamma_{i%20j}}^{l}}}" alt="latex_equ">, etc</p>
<p>and <img src="https://latex.codecogs.com/svg.latex?\lambda_{\alpha}^l" alt="latex_equ">, <img src="https://latex.codecogs.com/svg.latex?\lambda_{\beta}^l" alt="latex_equ">, <img src="https://latex.codecogs.com/svg.latex?\lambda_{\gamma}^l" alt="latex_equ"> computed (<code>1x1</code> conv) from <img src="https://latex.codecogs.com/svg.latex?\mathbf{x}^{1\to%20l}" alt="latex_equ">, <img src="https://latex.codecogs.com/svg.latex?\mathbf{x}^{2\to%20l}" alt="latex_equ">, <img src="https://latex.codecogs.com/svg.latex?\mathbf{x}^{3\to%20l}" alt="latex_equ"> <strong>respectively</strong></p>
<p><u>å¯ä»¥çœ‹ä½œäº§ç”Ÿä¸€ä¸ªæ¡†feature pyramidå¤šä¸ªç‰¹å¾å›¾éƒ½ç”¨åˆ°ï¼Œä¹‹å‰åªç”¨ä¸€ä¸ªç‰¹å¾å›¾äº§ç”Ÿä¸€ä¸ªæ¡†</u></p>
<p><u><strong>è®­ç»ƒtricks</strong>ï¼šmixup algorithm, cos lr, sync bn, bag of freebies</u></p>
<hr>
<h2 id="accelerating-object-detection-by-erasing-background-activation">Accelerating Object Detection by Erasing Background Activation</h2>
<blockquote>
<p>Objectness-aware object detection, äº§ç”ŸFG/BGçš„maskï¼Œåªå¯¹maskåŒºåŸŸè®¡ç®—</p>
</blockquote>
<p>å›¾ç‰‡åªæœ‰å°éƒ¨åˆ†æœ‰ç‰©ä½“ï¼ŒèƒŒæ™¯åŒºåŸŸä¸éœ€è¦ç‰¹å¾æå–è®¡ç®—ï¼Œ<strong>åªå¯¹å‰æ™¯maskåŒºåŸŸè®¡ç®—ç‰¹å¾</strong>ï¼Œåˆ†ç±»&amp;å›å½’(æ¬¡è¦)å‡ºbbox</p>
<p><img src="Figures/image-20200324230634744.png" alt="image-20200324230634744"></p>
<p>OMGç½‘ç»œä¸ºFast-SCNNğŸ‘‡</p>
<p><img src="Figures/20190313161834869.png" alt="img"></p>
<p>ä½¿ç”¨element-wise mulæ¥zero-outèƒŒæ™¯çš„feature map</p>
<p>OMGä¸­æœ‰<code>argmax</code>æ“ä½œï¼Œä¸ºäº†end2end trainingï¼Œå¯ä»¥1) ä½¿ç”¨<code>soft-argmax</code>ä»£æ›¿<code>argmax</code>è®­ç»ƒ 2) ä½¿ç”¨<u>surrogate gradient</u>ï¼ŒFPä½¿ç”¨<code>argmax</code>ï¼ŒBPæ—¶ä½¿ç”¨<code>soft-argmax</code>ä»£æ›¿è·å¾—è¿‘ä¼¼æ¢¯åº¦</p>
<p><img src="https://latex.codecogs.com/svg.latex?\operatorname{soft-argmax}%28x%29=\sum_{i}%20\frac{e^{\beta%20x_{i}}}{\sum_{j}%20e^{\beta%20x_{j}}}%20i" alt="latex_equ"></p>
<p><strong>å®éªŒ</strong>ï¼š å¯¹æ¯”MACï¼Œä½¿ç”¨ä¸åŒmaskç›‘ç£</p>
<hr>
<h2 id="libra-r-cnn-towards-balanced-learning-for-object-detection">Libra R-CNN: Towards Balanced Learning for Object Detection</h2>
<blockquote>
<p>è®­ç»ƒæ–¹å¼ï¼Œä¸å¹³è¡¡é—®é¢˜ï¼šhard example IoUåˆ†å¸ƒä¸å¹³è¡¡ï¼Œmulti-level/res featureèåˆä¸å¹³è¡¡ï¼Œä¸åŒlossæ ·æœ¬äº§ç”Ÿçš„æ¢¯åº¦ä¸å¹³è¡¡</p>
<p>æœ‰æ¢¯åº¦åæ¨losså‡½æ•°è®¾è®¡</p>
</blockquote>
<p><strong>ç›®æ ‡æ£€æµ‹å™¨è®­ç»ƒç›®æ ‡</strong>ï¼š</p>
<ol>
<li>Selected region samples are representative</li>
<li>Extracted visual feature are fully utilized</li>
<li>Designed objective function is optimal</li>
</ol>
<p>å¸¸è§è®­ç»ƒæœ‰ä¸‰å±‚æ¬¡çš„imbalance</p>
<ol>
<li><u>Sample-level</u>: hard exampleéœ€è¦å¤šè®­ç»ƒï¼Œä½†OHEMå¯¹å™ªå£°æ•æ„Ÿ</li>
<li><u>Feature-level</u>: pyramidä¸åŒlevel/resçš„ç‰¹å¾å¤„ç†æ·±åº¦ä¸åŒï¼Œé«˜å±‚å¤„ç†å¤šï¼Œæµ…/åº•å±‚ç‰¹å¾å¤„ç†å°‘</li>
<li><u>Objective-level</u>: cls/regä¸¤ä¸ªä»»åŠ¡æŸå¤±å‡½æ•°åè°ƒ</li>
</ol>
<h4 id="iou-balanced-sampling">IoU-balanced Sampling</h4>
<p>æ ¹æ®æ ·æœ¬å’ŒGTçš„IoUï¼Œåˆ†æˆå¤šä¸ªbinï¼Œæ¯ä¸ªbinå‡åŒ€é‡‡æ ·</p>
<p>ç¬¬k binä¸­æ¯ä¸ªæ ·æœ¬é‡‡æ ·æ¦‚ç‡<img src="https://latex.codecogs.com/svg.latex?p_k=\frac{N}{K}*\frac{1}{M_k},\;k\in[0,K%29" alt="latex_equ"></p>
<p><u><strong>æ ·æœ¬å„IoUå‡åŒ€åˆ†å¸ƒ</strong></u></p>
<h4 id="balanced-feature-pyramid">Balanced Feature Pyramid</h4>
<p>ä½¿ç”¨åŒæ ·æ·±çš„ç½‘ç»œæ¥å¤„ç†ä¸åŒå±‚çš„ç‰¹å¾</p>
<p>resizeä¸åŒå±‚featureï¼Œ<strong>å–å¹³å‡</strong>ï¼›ä½¿ç”¨Gaussian <strong>non-local attention</strong>å¢å¼ºèåˆçš„ç‰¹å¾ã€‚åœ¨resizeä¼šåŸå…ˆçš„å°ºåº¦å¢å¼ºmulti-scaleç‰¹å¾ğŸ‘‡</p>
<p><img src="Figures/image-20200325222120052.png" alt="image-20200325222120052"></p>
<h4 id="balanced-l1-loss">Balanced L1 Loss</h4>
<p>==<strong>ä»æ¢¯åº¦çš„è§’åº¦è€ƒè™‘</strong>== promoting the crucial gradient: ç²¾ç¡®çš„æ ·æœ¬(inlier)çš„æ¢¯åº¦æ›´é‡è¦ï¼Œå¢å¼ºlosså°çš„æ ·æœ¬çš„æ¢¯åº¦(<u>æ­£ç¡®çš„æ¢¯åº¦ï¼Œæ•°é‡å°‘è¦å¢å¼º</u>)ï¼Œå‡å¼±losså¤§æ ·æœ¬çš„æ¢¯åº¦(<u>éš¾è®­ç»ƒï¼Œå¤§æ¢¯åº¦å¯¼è‡´è®­ç»ƒä¸ç¨³å®š</u>)ğŸ‘‡</p>
<p><img src="Figures/image-20200325232936319.png" alt="image-20200325232936319"></p>
<p><img src="https://latex.codecogs.com/svg.latex?\frac{\partial%20L_{b}}{\partial%20x}=\left\{\begin{array}{ll}%20\alpha%20\ln%20%28b|x|+1%29%20&amp;%20\text%20{%20if%20}|x|&lt;1%20\\%20\gamma%20&amp;%20\text%20{%20otherwise%20}%20\end{array}\right." alt="latex_equ"></p>
<p>ğŸ‘†å¢å¼ºå°lossçš„æ¢¯åº¦ï¼Œå¤§lossçš„æ¢¯åº¦clipã€‚<u><strong>å¤§å°lossæ ·æœ¬äº§ç”Ÿçš„æ¢¯åº¦å¹³è¡¡</strong></u></p>
<p><img src="https://latex.codecogs.com/svg.latex?%28x,y%29\to%20Loss%20\to%20gradient" alt="latex_equ">ï¼Œ<strong>é€šè¿‡åˆ†ææ¢¯åº¦ï¼Œåæ¨å›lossè®¾è®¡</strong></p>
<p>ç§¯åˆ†å¯å¾—ğŸ‘‡</p>
<p><img src="https://latex.codecogs.com/svg.latex?L_{b}%28x%29=\left\{\begin{array}{ll}%20\frac{\alpha}{b}%28b|x|+1%29%20\ln%20%28b|x|+1%29-\alpha|x|%20&amp;%20\text%20{%20if%20}|x|&lt;1%20\\%20\gamma|x|+C%20&amp;%20\text%20{%20otherwise%20}%20\end{array}\right." alt="latex_equ"></p>
<p>å…¶ä¸­<img src="https://latex.codecogs.com/svg.latex?x" alt="latex_equ">ä¸ºGTå’Œpredçš„bboxåæ ‡å·®è·ï¼Œ<img src="https://latex.codecogs.com/svg.latex?\gamma" alt="latex_equ">ä¸ºclipç•Œ (å¤§äº<img src="https://latex.codecogs.com/svg.latex?\gamma" alt="latex_equ">ï¼Œæ¢¯åº¦æ’å®šä¸º1)ï¼Œ<img src="https://latex.codecogs.com/svg.latex?\alpha" alt="latex_equ">æ§åˆ¶å¯¹å°lossçš„æ¢¯åº¦å¢å¼ºï¼Œ<img src="https://latex.codecogs.com/svg.latex?b" alt="latex_equ">ä¸ºå¹³è¡¡é¡¹ï¼Œæ±‚å‡ºæ¯ä¸ªä½ç½®lossåmeanæˆ–sumï¼Œå³<img src="https://latex.codecogs.com/svg.latex?L_{l%20o%20c}=\sum_{i%20\in\{x,%20y,%20w,%20h\}}%20L_{b}\left%28t_{i}^{u}-v_{i}\right%29" alt="latex_equ">ğŸ‘‡</p>
<p><img src="Figures/image-20200325234316019.png" alt="image-20200325234316019"></p>
<h4 id="pipeline">Pipeline</h4>
<p><img src="Figures/image-20200325234511396.png" alt="image-20200325234511396"></p>
<hr>
<h2 id="reppoints-point-set-representation-for-object-detection">RepPoints: Point Set Representation for Object Detection</h2>
<blockquote>
<p>Bboxç‰¹å¾ä¸å¯¹é½é—®é¢˜ï¼Œæä¾›æ›´å¥½çš„objectè¡¨ç¤ºæ–¹æ³•(ä¸æ˜¯ä¸­å¿ƒç‚¹é¢†åŸŸå·ç§¯)</p>
<p>Deformable convå‡çº§ç‰ˆï¼ŒRepresentative Points</p>
<p>ç›¸æ¯”deformableï¼Œ<strong>ç›´æ¥ä½¿ç”¨å˜å½¢åçš„ç»“æœä½œä¸ºé¢„æµ‹çš„bboxä½ç½®ï¼ˆor anchorçš„åç§»ï¼‰</strong>ï¼Œè€Œä¸æ˜¯explicitå›å½’xywhã€‚ä¸­å¿ƒç‚¹ + implicit-offsets + wh</p>
<p><strong>é‡‡æ ·ç‚¹åŒæ—¶ç”¨æ¥æå–è¯­ä¹‰å¯¹é½çš„ç‰¹å¾ï¼Œåˆç”¨æ¥è¡¨ç¤ºç‰©ä½“çš„å‡ ä½•å½¢æ€</strong></p>
</blockquote>
<p><img src="Figures/v2-a1bdfbed69d464815ddcd8f2ed097e96_1440w.jpg" alt="img"></p>
<p>å¤§éƒ¨åˆ†ä¸ºèƒŒæ™¯ï¼Œéœ€è¦é€‰æ‹©æ›´representativeçš„ç‚¹æ±‚ç‰¹å¾</p>
<p><img src="Figures/image-20200326202246723.png" alt="image-20200326202246723"></p>
<p>ğŸ‘†<strong>è®­ç»ƒ</strong>ï¼šåˆ†ç±»ç½‘ç»œé‡‡ç”¨deformable convå³å¯ï¼Œå›å½’ç½‘ç»œå…ˆæŠŠreppointsè¡¨ç¤ºè½¬ä¸ºbboxè¡¨ç¤º(pseudo box)ï¼Œç„¶åè®¡ç®—å’ŒGTçš„offsetï¼ˆpoint lossï¼‰</p>
<p>è½¬æ¢æ–¹å¼ï¼š1) <u>RepPoint setåæ ‡æœ€å€¼</u> 2) subsetåæ ‡æœ€å€¼ 3) ä½¿ç”¨meanå’Œdeviationä¼°è®¡ï¼Œ<img src="https://latex.codecogs.com/svg.latex?\mu" alt="latex_equ">ä¼°è®¡ä¸­å¿ƒç‚¹ï¼Œ<img src="https://latex.codecogs.com/svg.latex?\sigma" alt="latex_equ">ä¼°è®¡å°ºåº¦(wh)</p>
<p><img src="Figures/image-20200326201955046.png" alt="image-20200326201955046"></p>
<p>ğŸ‘†ä½¿ç”¨ç½‘ç»œè®¡ç®—åç§»é‡(offsets over the center points)ï¼Œå¾—åˆ°reppointçš„ç‚¹/ç‰©ä½“ç‰¹å¾è¡¨ç¤º<img src="https://latex.codecogs.com/svg.latex?\mathcal{R}=\{%28x_k,y_k%29\}^n_{k=1}" alt="latex_equ">ï¼Œnä¸ªç‚¹ç‰¹å¾è¡¨ç¤ºsample points/objectçš„ç‰¹å¾ã€‚å­¦ä¹ <img src="https://latex.codecogs.com/svg.latex?\mathcal{R}_{r}=\left\{\left%28x_{k}+\Delta%20x_{k},%20y_{k}+\Delta%20y_{k}\right%29\right\}_{k=1}^{n}" alt="latex_equ"></p>
<p>ğŸ‘†ç»´æŠ¤ä¸¤ä¸ªRepPoint setï¼ŒäºŒæ¬¡refine</p>
<p><strong>Learned via weak localization supervision from rectangular ground-truth boxes and implicit recognition feedback</strong></p>
<p><strong>ä½¿ç”¨åŸºäºä¸­å¿ƒç‚¹xyè€Œä¸æ˜¯xywhé¢„æµ‹bboxï¼Œå‡å°‘hypothesis spaceï¼Œä¸€æ¬¡åªéœ€è¦é¢„æµ‹2D vecï¼Œæ›´å¥½è®­ç»ƒ</strong></p>
<h4 id="rpdet">RPDet</h4>
<p><img src="Figures/image-20200326203026414.png" alt="image-20200326203026414"></p>
<p>ğŸ‘†backbone FPN (å¤šå°ºåº¦å³å¯è§£å†³åŸºäºç‚¹é¢„æµ‹çš„é‡åˆç‰©ä½“é—®é¢˜ï¼ŒåŒFCOS)</p>
<p>ğŸ‘†ä¸¤ä¸ªåˆ†æ”¯ï¼šlocateåˆ†æ”¯ä¸¤æ¬¡è®¡ç®—offset refineï¼Œclassåˆ†æ”¯ç”¨offsetå˜å‹å·ç§¯ï¼ˆdconv=deformable convï¼‰</p>
<p>Ref: <a href="https://www.zhihu.com/question/322372759/answer/798327725">https://www.zhihu.com/question/322372759/answer/798327725</a></p>
<hr>
<h2 id="learning-rich-features-at-high-speed-for-single-shot-object-detection-lsn-">Learning Rich Features at High-Speed for Single-Shot Object Detection (LSN)</h2>
<blockquote>
<p>åˆ†ç±»ä»»åŠ¡é¢„è®­ç»ƒå’Œæ£€æµ‹ä»»åŠ¡gapï¼Œfeature pyramidèåˆ</p>
<p>Light-weight Scratch Networkäº§ç”Ÿå‡†ç¡®åº•å±‚ç‰¹å¾è¾“å…¥FPN</p>
<p>åº•å±‚ç‰¹å¾é«˜å±‚ç‰¹å¾åŒå‘ä¼ æ’­</p>
</blockquote>
<p><img src="Figures/image-20200424161122580.png" alt="image-20200424161122580"></p>
<h4 id="lsn">LSN</h4>
<p>è¾“å…¥ä¸ºdownsampleåçš„åŸå§‹å›¾ç‰‡ï¼Œä½åˆ†è¾¨ç‡æµ…å±‚ç½‘ç»œ <strong>train from scratch</strong></p>
<p><img src="Figures/image-20200424161326166.png" alt="image-20200424161326166"></p>
<h4 id="bi-directional-network">Bi-directional Network</h4>
<p><strong>Bottom-up Scheme</strong>ğŸ‘†ğŸ‘†(b)ï¼š<img src="https://latex.codecogs.com/svg.latex?f_{k}=\phi_{k}\left%28\left%28s_{k}%20\otimes%20o_{k}\right%29%20\oplus\left%28w_{k-1}%20f_{k-1}\right%29\right%29" alt="latex_equ"></p>
<p><img src="https://latex.codecogs.com/svg.latex?s_k" alt="latex_equ">ä¸ºLSNçš„ç‰¹å¾è¾“å‡ºï¼Œ<img src="https://latex.codecogs.com/svg.latex?o_k" alt="latex_equ">ä¸ºSSD (baseline)çš„è¾“å‡ºï¼Œ<img src="https://latex.codecogs.com/svg.latex?f_{k-1}" alt="latex_equ">ä¸ºä¸Šä¸€å±‚ç‰¹å¾ï¼Œ<u>cascadeä¾æ¬¡è®¡ç®—</u></p>
<p><strong>Top-down Scheme</strong>ğŸ‘†ğŸ‘†(c)ï¼š<img src="https://latex.codecogs.com/svg.latex?b_{k}=\gamma_{k}\left%28\sum\left%28W_{k}%20f_{k},%20W_{m%20k}\left%28\sum_{k+1}^{n}%20\mu_{k}\left%28W_{i}%20f_{i}\right%29\right%29\right%29\right%29" alt="latex_equ"></p>
<p><img src="https://latex.codecogs.com/svg.latex?W_k" alt="latex_equ">ä¸º<code>1x1</code>convé™é€šé“ï¼Œ<img src="https://latex.codecogs.com/svg.latex?W_{mk}" alt="latex_equ">ä¸º<code>1x1</code> convèåˆç‰¹å¾ï¼Œ<u>denseèåˆæ‰€æœ‰ä¸Šå±‚ç‰¹å¾(low-res)</u>ï¼Œ<img src="https://latex.codecogs.com/svg.latex?\mu_k" alt="latex_equ">ä¸º<code>upsample</code></p>
<p>å…ˆç»è¿‡bottom-upå†top-downï¼Œç”¨top-downè¾“å‡ºé¢„æµ‹</p>
<h4 id="experiment">Experiment</h4>
<p><img src="Figures/image-20200424162957980.png" alt="image-20200424162957980"></p>
<p><img src="Figures/image-20200424163032355.png" alt="image-20200424163032355"></p>
<hr>
<h2 id="detection-in-crowded-scenes-one-proposal-multiple-predictions">Detection in Crowded Scenes: One Proposal, Multiple Predictions</h2>
<blockquote>
<p>ä¸€ä¸ªanchor/å€™é€‰æ¡†è´Ÿè´£é¢„æµ‹å¤šä¸ªç‰©ä½“ã€‚anchor-GT ä¸€å¯¹å¤š</p>
<p>å¯†é›†è¡Œäººæ£€æµ‹ã€‚å¯†é›†ï¼Œé‡å /é®æŒ¡</p>
</blockquote>
<p><img src="Figures/image-20200501145202227.png" alt="image-20200501145202227"></p>
<p>ä¹‹å‰ï¼šä¸€ä¸ªanchorè´Ÿè´£é¢„æµ‹ä¸€ä¸ªç‰©ä½“ï¼›æå‡ºï¼š<u>ä¸€ä¸ªanchoré¢„æµ‹ä¸€ç»„</u></p>
<p>å¯¹äºä¸€ä¸ªanchor/prior/proposal <img src="https://latex.codecogs.com/svg.latex?b_i" alt="latex_equ">ï¼Œé¢„æµ‹çš„GTï¼š<img src="https://latex.codecogs.com/svg.latex?\mathrm{G}\left%28b_{i}\right%29=\left\{g_{j}%20\in%20\mathcal{G}%20|%20\operatorname{IoU}\left%28b_{i},%20g_{j}\right%29%20\geq%20\theta\right\}" alt="latex_equ"></p>
<p>é¢„æµ‹ä¸ºsetï¼š<img src="https://latex.codecogs.com/svg.latex?\mathrm{P}\left%28b_{i}\right%29=\left\{\left%28\mathbf{c}_{i}^{%281%29},%20\mathbf{l}_{i}^{%281%29}\right%29,\left%28\mathbf{c}_{i}^{%282%29},%20\mathbf{l}_{i}^{%282%29}\right%29,%20\ldots,\left%28\mathbf{c}_{i}^{%28K%29},%20\mathbf{l}_{i}^{%28K%29}\right%29\right\}" alt="latex_equ">ï¼Œ<img src="https://latex.codecogs.com/svg.latex?c_i^%28j%29" alt="latex_equ">è¡¨ç¤ºç¬¬<img src="https://latex.codecogs.com/svg.latex?i" alt="latex_equ">ä¸ªanchoré¢„æµ‹çš„ç¬¬<img src="https://latex.codecogs.com/svg.latex?j" alt="latex_equ">ä¸ªæ¡†çš„ç±»åˆ«å’Œç½®ä¿¡åº¦ï¼Œ<img src="https://latex.codecogs.com/svg.latex?l" alt="latex_equ">ä¸ºä½ç½®</p>
<p>åŒ¹é…æ—¶<img src="https://latex.codecogs.com/svg.latex?K" alt="latex_equ">ä¸ªç‰©ä½“ï¼Œä½†é¢„æµ‹æ—¶ä»å¯èƒ½éƒ¨åˆ†é¢„æµ‹ç»“æœä¸ºèƒŒæ™¯ã€Œ<u>è‡³å¤šé¢„æµ‹<img src="https://latex.codecogs.com/svg.latex?K" alt="latex_equ">ä¸ªç»“æœ</u>ã€   <em>æ˜¯å¦å¯ä»¥æ‰©å±•ä¸ºé¢„æµ‹æ›´å¤šï¼Ÿ</em></p>
<p>è®­ç»ƒçœ‹ä½œæœ€å°åŒ–é¢„æµ‹é›†å’ŒGTé›†ä¹‹é—´çš„<u>æ¨åœŸæœºè·ç¦»</u> <img src="https://latex.codecogs.com/svg.latex?\operatorname{EMD}%28P%28b_i%29,G%28b_i%29%29" alt="latex_equ">ï¼Œå’Œé›†åˆä¸­ä½ç½®æ— å…³ï¼Œä¸åˆ†å¸ƒæœ‰å…³</p>
<p><img src="https://latex.codecogs.com/svg.latex?\mathcal{L}\left%28b_{i}\right%29=\min%20_{\pi%20\in%20\Pi}%20\sum_{k=1}^{K}\left[\mathcal{L}_{c%20l%20s}\left%28\mathbf{c}_{i}^{%28k%29},%20g_{\pi_{k}}\right%29+\mathcal{L}_{r%20e%20g}\left%28\mathbf{l}_{i}^{%28k%29},%20g_{\pi_{k}}\right%29\right]" alt="latex_equ"></p>
<p>é¢„æµ‹çš„èƒŒæ™¯boxè®¡ç®—<img src="https://latex.codecogs.com/svg.latex?\mathcal{L}_{cls}" alt="latex_equ">ä¸è®¡ç®—<img src="https://latex.codecogs.com/svg.latex?\mathcal{L}_{reg}" alt="latex_equ"></p>
<h4 id="-earth-mover-s-distance-wasserstein-">æ¨åœŸæœºè·ç¦» (Earth Mover&#39;s Distance, Wasserstein)</h4>
<p>ä¸¤ä¸ªåˆ†å¸ƒé—´è·ç¦»ï¼šä»ä¸€ä¸ªåˆ†å¸ƒå˜åŒ–åˆ°å¦ä¸€ä¸ªåˆ†å¸ƒæ‰€éœ€è¦çš„æœ€å°åšåŠŸ</p>
<p><img src="Figures/v2-a157b48ccb585193b1074fa09f2e3f83_1440w.jpg" alt="img"></p>
<p><img src="Figures/screen-shot-2018-03-03-at-6-11-00-pm.png" alt="Screen Shot 2018-03-03 at 6.11.00 PM.png"></p>
<p>Ref: <a href="https://jeremykun.com/2018/03/05/earthmover-distance/">https://jeremykun.com/2018/03/05/earthmover-distance/</a>, <a href="https://zxth93.github.io/2017/09/27/KLæ•£åº¦JSæ•£åº¦Wassersteinè·ç¦»/index.html">https://zxth93.github.io/2017/09/27/KLæ•£åº¦JSæ•£åº¦Wassersteinè·ç¦»</a>, <a href="https://zhuanlan.zhihu.com/p/74075915">https://zhuanlan.zhihu.com/p/74075915</a></p>
<h4 id="set-nms">Set NMS</h4>
<p>ä¸€ä¸ªanchoré¢„æµ‹çš„å¤šä¸ªç‰©ä½“æ˜¯uniqueçš„ï¼Œé‡å¤é¢„æµ‹åªå¯èƒ½å‡ºç°åœ¨ä¸åŒanchoré¢„æµ‹é›†ä¹‹é—´</p>
<p>NMSæ—¶å¢åŠ ï¼šå¦‚æœä¸¤ä¸ªpred-boxå‡ºè‡ªåŒä¸€ä¸ªanchorï¼Œåˆ™ä¸è¿›è¡ŒæŠ‘åˆ¶</p>
<h4 id="-">ç½‘ç»œæ¶æ„</h4>
<p><img src="Figures/image-20200501151947284.png" alt="image-20200501151947284"></p>
<p><code>FPN</code>ï¼Œå¢åŠ <code>RoIAlign</code></p>
<p>æ›´å¤šé¢„æµ‹ï¼Œå¯èƒ½å‡ºç°æ›´å¤šFalse positiveï¼Œå¯å¢åŠ <code>Refinement Module</code>è¿›è¡ŒäºŒæ¬¡é¢„æµ‹refine</p>
<p><img src="Figures/image-20200501152246868.png" alt="image-20200501152246868"></p>
<p>Cityperson, CrowdHumanæ•ˆæœå¥½</p>
<hr>
<h2 id="augfpn-improving-multi-scale-feature-learning-for-object-detection">AugFPN: Improving Multi-scale Feature Learning for Object Detection</h2>
<blockquote>
<p>FPNæ”¹è¿›ï¼Œç‰¹å¾èåˆ</p>
</blockquote>
<p><img src="Figures/image-20200512164653675.png" alt="image-20200512164653675"></p>
<h4 id="consistent-supervision">Consistent Supervision</h4>
<p>ä¸åŒå°ºåº¦çš„ç‰¹å¾å›¾æœ‰semantic gapï¼Œå¢åŠ ä¸€ä¸ªç›‘ç£ä¿¡å·æ¥é™åˆ¶å­¦ä¹ åˆ°çš„ç‰¹å¾çš„å·®å¼‚</p>
<p>å¢åŠ å¤šä¸ª<u>å…±äº«æƒé‡</u>çš„<u>é¢„æµ‹å¤´</u>(detect head)å¯¹ä¸åŒå°ºåº¦ç‰¹å¾å›¾(<img src="https://latex.codecogs.com/svg.latex?M_{1..5}" alt="latex_equ">)ä¸Šçš„proposalè¿›è¡Œ<u>é¢„æµ‹</u>ï¼ŒåŠ ç›‘ç£ä¿¡å·ã€Œ<strong>multi-head prediction</strong>ã€</p>
<p><img src="https://latex.codecogs.com/svg.latex?\begin{aligned}L_{r%20c%20n%20n}=%20&amp;\lambda\left%28L_{c%20l%20s,%20M}\left%28p_{M},%20t^{*}\right%29+\beta\left[t^{*}&gt;0\right]%20L_{l%20o%20c,%20M}\left%28d_{M},%20b^{*}\right%29\right%29\\%20&amp;+L_{c%20l%20s,%20P}\left%28p,%20t^{*}\right%29+\beta\left[t^{*}&gt;0\right]%20L_{l%20o%20c,%20P}\left%28d,%20b^{*}\right%29\end{aligned}" alt="latex_equ"><br>å…¶ä¸­<img src="https://latex.codecogs.com/svg.latex?p_M,\;d_M" alt="latex_equ">è¡¨ç¤ºä¸­é—´å±‚çš„é¢„æµ‹ï¼Œ<img src="https://latex.codecogs.com/svg.latex?p,\;d" alt="latex_equ">è¡¨ç¤ºæœ€ç»ˆå±‚çš„é¢„æµ‹ï¼Œ<img src="https://latex.codecogs.com/svg.latex?t^*,\;b^*" alt="latex_equ">è¡¨ç¤ºGTçš„labelå’Œbox</p>
<h4 id="residual-feature-augmentation">Residual Feature Augmentation</h4>
<p>æœ€é«˜å±‚ç‰¹å¾æ²¡æœ‰ä¸Šå±‚ç‰¹å¾ä¸å…¶èåˆã€‚é‡‡ç”¨ä¸åŒå°ºåº¦çš„<img src="https://latex.codecogs.com/svg.latex?C_5" alt="latex_equ">ç‰¹å¾è¿›è¡Œç»„åˆå¾—åˆ°<img src="https://latex.codecogs.com/svg.latex?M_6" alt="latex_equ">ï¼Œå¹¶èåˆåˆ°<img src="https://latex.codecogs.com/svg.latex?M_5" alt="latex_equ">ä¸­ï¼Œæ¥<strong>å¢å¼ºæœ€é«˜å±‚ç‰¹å¾</strong></p>
<p><img src="Figures/image-20200512165827388.png" alt="image-20200512165827388"></p>
<p><code>Ratio-invariant Adaptive Pooling</code>ä¸ºæŠŠ<img src="https://latex.codecogs.com/svg.latex?C_5\;@S" alt="latex_equ"> poolingåˆ°ä¸åŒå°ºåº¦<img src="https://latex.codecogs.com/svg.latex?%28\alpha_1\times%20S,%20\alpha_2\times%20S,...,\alpha_n\times%20S%29" alt="latex_equ"></p>
<p>å…¶ä¸­<code>Adaptive Spatial Fusion</code>ä¸º</p>
<p><img src="Figures/image-20200512165942891.png" alt="image-20200512165942891"></p>
<h4 id="soft-roi-selection">Soft RoI Selection</h4>
<p><em>two RoIs with similar sizes may be assigned to different levels</em></p>
<p>ä½¿ç”¨<code>ASF</code>å¯¹å¤šå±‚ç‰¹å¾è¿›è¡ŒåŠ æƒèåˆï¼Œä½œä¸ºRoIçš„ç‰¹å¾</p>
<p>èåˆä¸ºäº†ä½¿anchor-featureçš„åŒ¹é…ä¸åªæ˜¯ä¸€å¯¹ä¸€ï¼Œä¸´è¿‘å°ºåº¦çš„ç‰¹å¾å›¾ä¹Ÿ<strong>å‚ä¸é¢„æµ‹</strong>ï¼Œä¸€ä¸ªæ ·æœ¬<strong>å­¦ä¹ ä¿¡å·</strong>ä¹Ÿä¼ åˆ°å¤šä¸ªå°ºåº¦ç‰¹å¾å›¾</p>
<hr>
<h2 id="learning-to-separate-detecting-heavily-occluded-objects-in-urban-scenes-sge-serial-r-fcn-">Learning to Separate: Detecting Heavily-Occluded Objects in Urban Scenes (SGE/Serial R-FCN)</h2>
<blockquote>
<p>å¯†é›†æ£€æµ‹ï¼Œembeding+NMS (ç±»ä¼¼feature NMS)ï¼Œcascade</p>
</blockquote>
<p>å¯†é›†æ£€æµ‹ä¸­ä¸åŒç±»ç‰©ä½“çš„åŒºåˆ†å’ŒåŒä¸€ç±»ä¸åŒç‰©ä½“çš„åŒºåˆ†</p>
<h4 id="semantics-geometry-embedding-sg-nms">Semantics-Geometry Embedding &amp; SG-NMS</h4>
<p>å¢åŠ å°†æ£€æµ‹æ¡†æ˜ å°„åˆ°éšç©ºé—´ä¸­    <img src="https://latex.codecogs.com/svg.latex?e=\mathbf{s}^T\cdot%20\mathbf{g}" alt="latex_equ">ï¼Œå…¶ä¸­<img src="https://latex.codecogs.com/svg.latex?\mathbf{g}" alt="latex_equ">å³ä¸ºæ£€æµ‹æ¡†<img src="https://latex.codecogs.com/svg.latex?%28x,y,w,h%29" alt="latex_equ">ï¼Œ<img src="https://latex.codecogs.com/svg.latex?\mathbf{s}" alt="latex_equ">ä¸ºè¯­ä¹‰åµŒå…¥å‘é‡ã€‚å¯ä»¥çœ‹ä½œ<strong>å°†ä½ç½®ä¿¡æ¯ä»¥è¯­ä¹‰ä¿¡æ¯ä½œä¸ºæƒé‡è¿›è¡Œçº¿æ€§å˜æ¢å¾—åˆ°embed</strong></p>
<p>boxå’ŒGT<u>åŒ¹é…æ—¶</u>ï¼Œå¯¹æ¯ä¸ªproposal <img src="https://latex.codecogs.com/svg.latex?b_i" alt="latex_equ">ï¼Œé€‰æ‹©æœ€å¤§IoUçš„ç‰©ä½“<img src="https://latex.codecogs.com/svg.latex?b^*_j" alt="latex_equ">ï¼Œå¦‚æœiå’Œjçš„IoUå¤§äºé˜ˆå€¼ï¼Œåˆ™è®¤ä¸ºi proposalåŒ¹é…åˆ°jç‰©ä½“ã€‚<strong>Select max then thresholding</strong></p>
<p><u>æŸå¤±å‡½æ•°</u>å¢åŠ  1. Groupï¼šproposalçš„embedå’ŒåŒ¹é…çš„ç‰©ä½“çš„embedè·ç¦»å°½å¯èƒ½å° 2. Sepï¼šproposalçš„embedå’Œä¸å…¶ç¬¬äºŒå¤§IoUçš„ç‰©ä½“çš„embedè·ç¦»å¢å¤§ï¼ˆ<strong>ç¬¬ä¸€å¤§çš„obj: è·ç¦»å‡å°ï¼Œç¬¬äºŒå¤§çš„obj: è·ç¦»å¢å¤§</strong>ï¼‰</p>
<p><u>NMSæ—¶</u>ï¼ŒIoUå°äºé˜ˆå€¼<img src="https://latex.codecogs.com/svg.latex?N_T" alt="latex_equ">çš„ä¿ç•™(Greedy)ï¼Œå¤§äºé˜ˆå€¼çš„è®¡ç®—<strong>embedçš„è·ç¦»</strong>(SG)ï¼Œembedè·ç¦»å¤§äº<img src="https://latex.codecogs.com/svg.latex?\Phi" alt="latex_equ">çš„ä¿ç•™ï¼Œ<img src="https://latex.codecogs.com/svg.latex?\Phi\propto\operatorname{IoU}" alt="latex_equ">ï¼Œ<strong>IoUå¤§çš„ä¸¤ä¸ªç‰©ä½“éœ€è¦æœ‰æ›´å¤§çš„embedè·ç¦»</strong></p>
<p><img src="Figures/image-20200608203857935.png" alt="image-20200608203857935"></p>
<p>ç”±äº<u>FPN</u>ä½œä¸ºbackboneæœ‰å¤šå±‚ï¼Œåœ¨FPNçš„æ¯ä¸€å±‚è¿›è¡ŒGreedy+SG NMSã€‚åœ¨ä¸åŒå±‚ä¹‹é—´åªè¿›è¡ŒGreedy-NMSï¼Œä¸”ä¸€ä¸ªboxåªä¼šè¢«FPNå…¶ä»–å±‚çš„boxæŠ‘åˆ¶</p>
<h4 id="serial-r-fcn">Serial R-FCN</h4>
<p><img src="Figures/image-20200608205053055.png" alt="image-20200608205053055"></p>
<p>åˆ†ç±»åˆ†æ”¯å’ŒSGè®¡ç®—åˆ†æ”¯åœ¨å›å½’åˆ†æ”¯ä¹‹åcascadeè¿›è¡Œã€‚<strong>ç›´æ¥ä½¿ç”¨refined-boxè€Œä¸æ˜¯RoI/proposalè¿›è¡Œç‰¹å¾æå–</strong>ï¼Œå¯ä»¥ä½¿ç”¨æ›´é«˜çš„IoUé˜ˆå€¼æ¥è®­ç»ƒåˆ†ç±»åˆ†æ”¯</p>
<p>åˆ†ç±»åˆ†æ”¯è¾¨åˆ«å›å½’åˆ†æ”¯å›å½’çš„refined-boxå±äºç±»åˆ«/BGã€‚éšç€å›å½’åˆ†æ”¯èƒ½åŠ›å¢å¼ºï¼ŒBGç±»åˆ«æ ·æœ¬æ•°é‡å‡å°‘ï¼Œéœ€è¦<strong>hard negative mining</strong>ã€‚åœ¨refined-boxä¸Šå¢åŠ <u>éšæœºå™ªå£°</u>è¾“å…¥åˆ†ç±»åˆ†æ”¯ï¼Œä½œä¸ºæ¥è¿‘ä¸”ä½äºIoUé˜ˆå€¼çš„éš¾è´Ÿæ ·æœ¬</p>
<p><img src="Figures/image-20200608205026817.png" alt="image-20200608205026817"></p>
<p>æ‰€æœ‰åˆ†æ”¯éƒ½é‡‡ç”¨Position Sensitive RoI-PoolingğŸ‘‡ï¼Œå¹¶å¢åŠ self-attentionğŸ‘†</p>
<p><img src="Figures/v2-247cdb8e1305f64996fbd336813ce80e_1440w.jpg" alt="img"></p>
<p>proposal/RoIåŒºåŸŸå†…çš„æ¯ä¸ªä½ç½®æœ‰ä¸€ä¸ªç‰¹å¾å›¾ï¼Œåœ¨å¯¹åº”ç‰¹å¾å›¾ä¸ŠRoIåŒºåŸŸå†…poolingå¾—åˆ°ç»“æœå¯¹åº”ä½ç½®çš„å“åº”å€¼</p>
<p>Ref: <a href="https://zhuanlan.zhihu.com/p/30867916">https://zhuanlan.zhihu.com/p/30867916</a></p>
<hr>
<h2 id="vovnet">VoVNet</h2>
<p>ç›¸æ¯”densenetï¼Œåªè¿›è¡Œä¸€æ¬¡ç‰¹å¾èåˆæ“ä½œ</p>
<p><img src="Figures/image-20200620214131006.png" alt="image-20200620214131006"></p>
<p>è½»é‡çº§ç½‘ç»œå¹³DenseNetæ€§èƒ½ï¼ˆä¸æ˜æ˜¾ <img src="https://latex.codecogs.com/svg.latex?\approx%2033@all" alt="latex_equ">ï¼‰</p>
<p>VoVNetV2 å¢åŠ æ®‹å·®è¿æ¥å’ŒSE-block</p>
<hr>
<h2 id="drconv-dynamic-region-aware-convolution">DRConv: Dynamic Region-Aware Convolution</h2>
<blockquote>
<p>åŠ¨æ€é€‰æ‹©å·ç§¯æ ¸ï¼Œä¸æ˜¯receptive fieldã€‚ç±»ä¼¼ç©ºåŸŸå’Œé€šé“ä¸Šçš„attention</p>
</blockquote>
<p><strong>ç©ºé—´çš„åŠ¨æ€å·ç§¯æ ¸</strong>ï¼Œå·ç§¯æ ¸åŒºåŸŸé—´ä¸åŒï¼ŒåŒºåŸŸå†…å…±äº«</p>
<p>ä¼ ç»Ÿå·ç§¯æ ¸ï¼šé€šé“é—´ä¸åŒï¼ŒåŒºåŸŸé—´å®Œå…¨ç›¸åŒï¼ˆå…±äº«å·ç§¯æ ¸ï¼‰<img src="https://latex.codecogs.com/svg.latex?W_c" alt="latex_equ"></p>
<p>å±€éƒ¨å·ç§¯ï¼šä¸åŒä½ç½®<strong>pixel</strong>å·ç§¯æ ¸ä¸åŒ<img src="https://latex.codecogs.com/svg.latex?W_{u,v,c}" alt="latex_equ"></p>
<p><img src="https://latex.codecogs.com/svg.latex?Y_{u,%20v,%20o}=\sum_{c=1}^{C}%20X_{u,%20v,%20c}%20*%20W_{u,%20v,%20c}^{%28o%29}%20\quad%28u,%20v%29%20\in%20S" alt="latex_equ"></p>
<p>DRConvï¼šä¸åŒåŒºåŸŸå·ç§¯æ ¸ä¸åŒï¼ŒåŒä¸€ä¸ªåŒºåŸŸå†…å…±äº«<img src="https://latex.codecogs.com/svg.latex?W_{t,c}" alt="latex_equ"></p>
<p><img src="https://latex.codecogs.com/svg.latex?Y_{u,%20v,%20g}=\sum_{c=1}^{C}%20X_{u,%20v,%20c}%20*%20W_{t,%20c}^{%28o%29}%20\quad%28u,%20v%29%20\in%20S_{t}" alt="latex_equ"></p>
<p>é¦–å…ˆå­¦ä¹ åˆ’åˆ†åŒºåŸŸmaskï¼Œä¹‹ååœ¨æ¯ä¸ªåŒºåŸŸå†…è¿›è¡ŒåŠ¨æ€å·ç§¯</p>
<h4 id="learnable-guided-mask">Learnable guided mask</h4>
<p>å­¦ä¹ åˆ†åŒºï¼Œå­¦ä¹ å·ç§¯æ ¸åœ¨ç‰¹å¾å›¾ä¸Šçš„åˆ†å¸ƒ</p>
<p>ä½¿ç”¨æ™®é€šå·ç§¯è®¡ç®—ç‰¹å¾å›¾ï¼ˆkernelç©ºåŸŸä¸Šç›¸åŒï¼Œé€šé“ç»´ä¸åŒï¼‰ï¼Œ<strong>åœ¨ç‰¹å¾å›¾é€šé“ç»´é€‰æ‹©æœ€å¤§çš„å¯¹åº”çš„å·ç§¯æ ¸</strong>ä½œä¸ºè¯¥ä½ç½®ä¸Šä½¿ç”¨çš„å·ç§¯æ ¸</p>
<p><img src="Figures/image-20200620223935673.png" alt="image-20200620223935673"></p>
<p><img src="https://latex.codecogs.com/svg.latex?M_{u,%20v}=\operatorname{argmax}\left%28F_{u,%20v}^{0},%20F_{u,%20v}^{1},%20\cdots,%20F_{u,%20v}^{m-1}\right%29" alt="latex_equ">ï¼Œmä¸ªchannel</p>
<p>é€‰æ‹©<strong>é€šé“ç»´</strong>æœ€å¤§çš„kernelä½œä¸ºåŒºåŸŸçš„kernel (åŒæ ·å¤§å°ä¸åŒå‚æ•°)</p>
<p>ç”±äºargmaxæ²¡æœ‰æ¢¯åº¦(mask <img src="https://latex.codecogs.com/svg.latex?M_{u,v}" alt="latex_equ">æ˜¯one-hotå‘é‡)ï¼Œæ‰€ä»¥åå‘ä¼ æ’­æ—¶ä½¿ç”¨softmaxå–ä»£<img src="https://latex.codecogs.com/svg.latex?M_{u,v}" alt="latex_equ"></p>
<p><img src="https://latex.codecogs.com/svg.latex?\hat{F}_{u,%20v}^{j}=\frac{e^{F_{u,%20v}^{j}}}{\sum_{n=0}^{m-1}%20e^{F_{u,%20v}^{n}}}%20\quad%20j%20\in[0,%20m-1]" alt="latex_equ"></p>
<h4 id="dynamic-filter">Dynamic Filter</h4>
<p><strong>æ ¹æ®è¾“å…¥ç‰¹å¾åŠ¨æ€äº§ç”Ÿ</strong>æ¯ä¸ªåŒºåŸŸçš„å·ç§¯æ ¸</p>
<p>ç±»ä¼¼é€šé“+ç©ºåŸŸçš„attentionæœºåˆ¶ï¼ˆæ¯ä¸ªåŒºåŸŸé€‰æ‹©æœ€å¤§é€šé“å¯¹åº”çš„å·ç§¯æ ¸ï¼‰</p>
<p>æ€§èƒ½æå‡1-2ç‚¹ Mask-RCNN</p>
<hr>
<h1 id="object-detection-tricks">Object Detection Tricks</h1>
<h2 id="bag-of-freebies-for-training-object-detection-neural-networks">Bag of Freebies for Training Object Detection Neural Networks</h2>
<h4 id="visually-coherent-image-mixup-training">Visually Coherent Image Mixup Training</h4>
<p>æŒ‰ç…§betaåˆ†å¸ƒèåˆä¸¤å¼ å›¾ç‰‡è®­ç»ƒï¼Œä½ç½®ä¿¡æ¯ä¸å˜ï¼ˆgeometry preservedï¼‰æ±‚lossæ—¶æŒ‰ç…§èåˆå æ¯”åŠ æƒ</p>
<p><img src="Figures/image-20200701100926363.png" alt="image-20200701100926363"></p>
<p>Beta distribution</p>
<p><img src="Figures/image-20200701101103962.png" alt="image-20200701101103962"></p>
<p>æ•ˆæœï¼šè§£å†³ <strong>unprecedented</strong> scenes (å¦‚å±‹ä¸­å¤§è±¡) å’Œ very <strong>crowded</strong> object groupï¼Œä½†å¯èƒ½ä¼šä½¿ç½®ä¿¡åº¦é™ä½</p>
<h4 id="label-smoothing">Label Smoothing</h4>
<p>åˆ†ç±»å¤´ä¸Šä½¿ç”¨ï¼Œå¢åŠ CE-Lossä¸­é”™è¯¯labelçš„æ¢¯åº¦ï¼Œé˜²æ­¢æ¨¡å‹too-confident &amp; over-fitting</p>
<p><img src="https://latex.codecogs.com/svg.latex?q_{i}=\left\{\begin{array}{ll}1-\varepsilon%20&amp;%20\text%20{%20if%20}%20i=y%20\\%20\varepsilon%20/%28K-1%29%20&amp;%20\text%20{%20otherwise%20}\end{array}\right." alt="latex_equ"></p>
<h4 id="data-augmentation">Data Augmentation</h4>
<ul>
<li>Random geometry transformation: crop, expansion, flip, resize</li>
<li>Random color jittering: brightness, hue, saturation, contrast</li>
</ul>
<p>äºŒé˜¶æ®µæœ‰proposalçš„å‰ªè£ä¸éœ€è¦geometry transformation</p>
<h4 id="training-schedule">Training Schedule</h4>
<p>é‡‡ç”¨cosineå­¦ä¹ ç‡ï¼Œé˜²æ­¢step schedulerå‰§çƒˆå˜åŒ–ä¸ç¨³å®š</p>
<p>warm-upé˜²æ­¢è®­ç»ƒåˆæœŸæ¢¯åº¦çˆ†ç‚¸</p>
<p><img src="Figures/image-20200701102240277.png" alt="image-20200701102240277"></p>
<h4 id="sync-bn">Sync BN</h4>
<p>Batch-size å¯¹æ€§èƒ½å½±å“å¤§</p>
<p><code>model = apex.parallel.convert_syncbn_model(model)</code></p>
<h4 id="multi-scale">Multi-scale</h4>
<hr>
<p><strong>Multi-scale training <img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ"> Image level pyramid</strong></p>
<p><strong>Multi-level/stage feature <img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ"> Feature pyramid</strong></p>
<p>ç›¸æ¯”image pyramidï¼Œç‰¹å¾é‡‘å­—å¡”åªæå–ä¸€æ¬¡å›¾åƒç‰¹å¾ï¼Œä¸åŒstageè¾“å‡ºï¼ˆå¤šå°ºåº¦ï¼‰ï¼Œé€Ÿåº¦æ›´å¿«</p>
<p>Multi-scale training + Feature pyramid <img src="https://latex.codecogs.com/svg.latex?\to" alt="latex_equ"> all in</p>
